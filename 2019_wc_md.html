<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">

  <title>Web Components</title>

  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

  <link rel="stylesheet" href="reveal.js/css/reveal.css">
  <!--<link rel="stylesheet" href="reveal.js/css/theme/white.css" id="theme">-->
  <!--<link rel="stylesheet" href="reveal.js/css/theme/black.css" id="theme">-->
  <!--<link rel="stylesheet" href="reveal.js/css/theme/night.css" id="theme">-->
  <!--<link rel="stylesheet" href="reveal.js/css/theme/simple.css" id="theme">-->
  <link rel="stylesheet" href="reveal.js/css/theme/solarized.css" id="theme">

  <!-- Code syntax highlighting -->
  <link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">
  <style>
    /*pre code {*/

    /*display: block;*/

    /*padding: 0.5em;*/

    /*background: #FFFFFF !important;*/

    /*color: #000000 !important;*/

    /*}*/

    .right-img {
      margin-left: 10px !important;
      float: right;
      height: 500px;
    }

    .weg:before {
      content: 'Streichen?';
    }

    .weg {
      color: red !important;
    }

    .presenter h1 {
      color: rgb(255, 0, 234) !important;
    }

    .todo:before {
      content: 'TODO: ';
    }

    .todo {
      color: red !important;
    }

    code span.line-number {
      color: lightcoral;
    }

    .reveal pre code {
      max-height: 1000px !important;
    }

    img {
      border: 0 !important;
      box-shadow: 0 0 0 0 !important;
    }

    .reveal {
      -ms-touch-action: auto !important;
      touch-action: auto !important;
    }

    .reveal h2,
    .reveal h3,
    .reveal h4 {
      letter-spacing: 2px;
                        font-family: 'Calibri', sans-serif;
                          /* font-family: 'Times New Roman', Times, serif; */
                          font-weight: bold;
                          color: black;
                          font-style: italic;
                          letter-spacing: -2px;
                          text-transform: none !important;
    }

    .reveal em {
      font-weight: bold;
    }

    .reveal .step-subtitle h1 {
      letter-spacing: 1px;
    }

    .reveal .step-subtitle h2,
    .reveal .step-subtitle h3 {
      text-transform: none;

      font-weight: normal;
      /* font-weight: 400; */
      /* font-family: 'Amiri', serif; */
      font-family: 'Lobster', serif;
      letter-spacing: 1px;
      color: #2aa198;
      /* text-decoration: underline; */
    }

    .reveal .step-subtitle h3 {
      text-decoration: underline;
      font-style: normal
    }

    /* .reveal .step-subtitle h2 {
      font-style: italic;
    } */

    .reveal .front-page h1,
    .reveal .front-page h2 {
      font-family: "League Gothic";
      font-style: normal;
      text-transform: uppercase !important;
      letter-spacing: 1px;
    }

    .reveal .front-page h1 {
      font-size: 2.5em !important;
    }

    .reveal .highlight {
      /* #D3337B;*/
      color: #268bd2;
    }

    .reveal section img {
      background: none;
    }

    .reveal img.with-border {
      border: 1px solid #586e75 !important;
      box-shadow: 3px 3px 1px rgba(0, 0, 0, 0.15) !important;
    }

    .reveal li {
      margin-bottom: 8px;
    }

    /* For li's that use FontAwesome icons as bullet-point */

    .reveal ul.fa-ul li {
      list-style-type: none;
    }

    .reveal {
      color: black !important;
    }       

  </style>

  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match(/print-pdf/gi) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
    document.getElementsByTagName('head')[0].appendChild(link);
  </script>

  <!--[if lt IE 9]>
    <script src="reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

  <div class="reveal">
    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">

<!--       
Magdeburger Developer Days

60 Minuten

Web Components? Die sind doch tot, oder? 

Web Components hatten einen wirklich schlechten Start und sind nun bereits in der zweiten Iteration auf dem Web zu einem
echten und lebendigen Standard. Selbst da sie nun in allen wichtigen Browsern umgesetzt sind, werden sie immer noch
belächelt aufgrund ihres vermeintlich schlechten Designs und ihrer Rückschrittlichkeit. Aber zusammen mit LitElement von
den Machern von Polymer könnte die Sache ganz anders aussehen. Dieser Talk beleuchtet, warum Web Components vielleicht
doch nicht tot sind und welche Vorteile gegenüber den Frameworks React, Angular und Vue bekommen könnten.
 -->

      <section>
        <h2>Web Components? Die sind doch tot, oder?</h2>
        <h3><a href="https://www.md-devdays.de/Act?id=1000079" target="_blank">
          Magdeburger Developer Days, 2019</a></h3>

        <div>
          <a href="http://zeigermann.eu">Oliver Zeigermann</a> /
          <a href="http://twitter.com/djcordhose">@DJCordhose</a> /
        </div>
        <p style="clear: both">
            <small>Slides:
              <a href="http://djcordhose.github.io/architecture/2019_wc_md.html">
                  http://djcordhose.github.io/architecture/2019_wc_md.html</a>
            </small>
          </p>
      </section>

      <section data-markdown class='todo'>
        <textarea data-template>
### Beispiel für Lib, die in allen anderen Frameworks geht

https://twitter.com/preetster/status/1121070209769492480?s=03
      https://wiredjs.com/
    </textarea>
  </section>

      <section data-markdown class='todo'>
        <textarea data-template>
### Lit Element rendering strategies explained

* https://twitter.com/julienrenaux/status/1112640655166189568
   * https://julienrenaux.fr/2019/04/01/lit-element-rendering-strategies-explained/

* change detection using comments: https://github.com/Polymer/lit-html/issues/748

    </textarea>
  </section>

  <section data-markdown class='todo'>
    <textarea data-template>
https://dev.to/webpadawan/the-journey-of-web-components-wrong-ways-lacking-parts-and-promising-paths-1d5a
</textarea>
</section>

      <section data-markdown>
        <textarea data-template>
<!-- ### (Framework) Empires do not fall apart because of lack of power -->

<img src='img/empires.png'>

<small>
https://twitter.com/jessfraz/status/1114542720301916161
</small>
          </textarea>
    </section>


      <section data-markdown>
          <textarea data-template>
### Are we Framework people becoming too sure of ourselves?

<img src='img/kent-c-web-components-1.png' height="200px">

<img src='img/kent-c-web-components.png' height="200px">

<small>
https://twitter.com/kentcdodds/status/1114525325956767744
</small>
            </textarea>
      </section>

      <section data-markdown>
          <textarea data-template>
### But people actually use Web Components

Are they all stupid?

<img src='img/tesla-wc.png'>
<small>
https://twitter.com/alisonailea/status/1114203815211753472
</small>
                </textarea>
      </section>

      <section data-markdown>
        <textarea data-template>
## Three Scenarios for Web Component to excel

1. coarse-grain components for people to simply include in (static) HTML
1. fine-grained components for application development
1. coarse-grain components wrapping application part for composed SPA
  </textarea>
</section>

<section data-markdown>
    <textarea data-template>
## Scenario I: Components for everyone

_coarse-grain components for people to simply include in (static) HTML_

* alternative to jQuery plugins  
* e.g. 
  * Carousel
  * Google Maps Component
* tolerant to errors
* interface via attributes
* well known publisher, people need trust to them
</textarea>
</section>

<section data-markdown>
<textarea data-template>
### Are Web Components ready, yet?

_Web Components Browser Compatibility_

<img src='img/web-components-support.jpg' height="400px">

<small>
https://www.webcomponents.org/
<br>
https://caniuse.com/#search=Web%20components
<br>
https://pwa-starter-kit.polymer-project.org/browser-support
</small>
</textarea>
</section>

<section style="font-size: xx-large">
<h3>Barebone Web Components</h3>

<pre class="fragment"><code data-trim class="javascript">
const template = `
&lt;input id="in">
&lt;p>&lt;span id="log"></span>, World</p>
&lt;input id="btn" type="button" value="Clear">`
</code></pre>

<pre class="fragment"><code data-trim class="javascript">
class MyElement extends HTMLElement {
  constructor() {
      super();
      this.attachShadow({mode: 'open'});
      this.shadowRoot.innerHTML = template;
      this.input = this.shadowRoot.querySelector("#in");
      this.log = this.shadowRoot.querySelector("#log");
      this.button = this.shadowRoot.querySelector("#btn");
  }

  connectedCallback() {
      this.input.addEventListener("keyup", event => this.model = event.target.value);
      this.button.addEventListener("click", event => this.model = "");
  }

  set model(value) {
    this.log.textContent = value;
    this.input.value = value;
  }

}
customElements.define('my-element', MyElement);
</code></pre>
  
<pre class="fragment"><code data-trim class="javascript">
// from perspective of user  
&lt;script src="./my-element-pure.js">&lt;/script>
&lt;my-element>&lt;/my-element>
</code></pre>

  <small>
 <a href='frameworks/webcomponent-app-pure/'>Try it out</a>   

  </small>
  </section>

<section data-markdown>
    <textarea data-template>
## Scenario II: Anti-Framework

_fine-grained components for application development_

* replacement for more heavy weight frameworks
* easier to integrate with native browser API
* can serve as library for all other frameworks
</textarea>
</section>

<section data-markdown>
  <textarea data-template>
### Github uses no framework

<img src='img/wc-github.png' height="470px">
<small>
https://twitter.com/mislav/status/1022058279000842240
<br>
https://githubengineering.com/removing-jquery-from-github-frontend/  
</small>
  </textarea>
</section>


<section data-markdown>
    <textarea data-template>
### But developers do not really like Polymer (=== Web Components?)

<img src='img/js-frameworks-2018.png' height="470px">
<small>
https://2018.stateofjs.com/front-end-frameworks/conclusion  
</small>
    </textarea>
</section>

<section data-markdown>
<textarea data-template>
### Web Components Myths

<a href='https://dev.to/bennypowers/lets-build-web-components-part-8-mythbusters-edition-3la'>
<img src='img/wc-myths.jpg' height="520px">
</a>
<small>
https://twitter.com/passle_/status/1097392253465776129
<br>
https://dev.to/bennypowers/lets-build-web-components-part-8-mythbusters-edition-3la
<br>
https://shoptalkshow.com/episodes/348/
</small>
</textarea>
</section>


<section data-markdown
    <textarea data-template>
### Is Development for Web Components procedural and low-level?

<h4 class="fragment">enter lit-element</h4>

<p class="fragment">
https://lit-element.polymer-project.org/
<br>
https://project-awesome.org/web-padawan/awesome-lit-html  
</p>
    
</textarea>
</section>

<section>
<h3>Web Component with lit-element</h3>

<pre class="fragment"><code data-trim class="javascript">
@customElement('my-element')
class MyElement extends LitElement {
    @property() greeting: string = 'Hello';

    render() {
        return html`
        &lt;input value="${this.greeting}" 
          @keyup="${(event: any) => this.greeting = event.target.value}">
        &lt;p>${this.greeting}, World&lt;/p>
        &lt;input type="button" value="Clear" @click="${this.handleClick}">`;
    }

    handleClick() {
        this.greeting = '';
    }
}
</code></pre>
  
  <pre class="fragment"><code data-trim class="javascript">
    // using the web component (like before)  
    &lt;script src="./my-element-pure.js">&lt;/script>
    &lt;my-element>&lt;/my-element>
    </code></pre>
    
    <small>
    <a href='https://lit-element.polymer-project.org/'>https://lit-element.polymer-project.org/</a>  
    </small>
      </section>
    
      <section data-markdown>
    <textarea data-template>
    ### lit-element does not need hooks
    
    <img src='img/lit-element-vs-hooks.png' height="550px">
    <small>
    https://twitter.com/justinfagnani/status/1098324609084997632 
    </small>
    
    </textarea>
    </section>
    
    <section data-markdown>
      <textarea data-template>
    ### lit-element the new (old) React?
    <img src='img/dan-hooks-dont-suck.jpg' height="330px">
    <img src='img/wc-like-react.jpg' height="330px">            
    
    <small>
    https://twitter.com/dan_abramov/status/1096784072943300608
    https://twitter.com/wincent/status/1097112307572899840
    <br>
    https://twitter.com/DJCordhose/status/1102607582567559169
    </small>
    
    </textarea>
    </section>
    
    <section data-markdown>
      <textarea data-template>
    ## Demo
    
    _how can a Web Component project look like?_
    
    * Web Components
    * lit-element
    * TypeScript
    * optional parcel prod build
    * lightweight dev server for ES6 modules (polyserve)
    
    ```javascript
    git clone git@github.com:DJCordhose/lerna-wc-ts-monorepo-demo.git
    cd lerna-wc-ts-monorepo-demo
    yarn
    yarn start 
    ```
    
    <small>
    http://localhost:8000/demo/index.html
    </small>
      </textarea>
    </section>
    
    <section data-markdown>
    <textarea data-template>
## Scenario III: Wrappers for large SPAs

_coarse-grain components wrapping application part for composed SPA_

* to integrate work from parts done by different teams
* merely a thin wrapper over a complete application
* might require same version of application framework
* trust not an issue as no alien parts involved
</textarea>
</section>

<section data-markdown class="todo">
    <textarea data-template>
### Web Components mix well

Justin Fagnani (@justinfagnani) tweeted at 8:41 PM on Sat, Feb 16, 2019:
You can freely intermix Polymer, LitElement and other web component libraries. Incremental is the way to go for large apps.
(https://twitter.com/justinfagnani/status/1096872147845181440?s=03)
</textarea>
</section>

<section data-markdown>
    <textarea data-template>
### Frameworks with Custom Elements

all of them at least try
* Angular, Vue great
* Preact good
* React mediocre

https://custom-elements-everywhere.com/      
</textarea>
</section>

<section>
  <h3>Encapsulate using Web Components</h3>
  <p>Custom Elements with JavaScript ES6 Modul</p>
  <pre class="fragment"><code data-trim class="javascript">
// Custom Element
class MyElement extends HTMLElement {
  connectedCallback() {
    // render Angular / React component
  }
}
customElements.define('my-element', MyElement);
</code></pre>
  <pre class="fragment"><code data-trim class="html">
&lt;script>
// JavaScript module import
import 'my-element';
&lt;/script>

&lt;div>
&lt;my-element greeting="Hello">&lt;/my-element>
&lt;/div>
</code></pre>

</section>

<section data-markdown>
    <textarea data-template>
### Does this work well?

* does not isolate completely
  * only DOM and CSS
* iFrame much better and more configurable isolation
* all parts bring their own burden of framework
  * might take long to load
  * service worker might help after first page impression
* not all frameworks support more than one version of framework in the same app
  * react pretty cool about this
  * Angular not so much, but Angular app can expose many Web Components using angular-elements
</textarea>
</section>

<section data-markdown>
    <textarea data-template>
### Angular Elements

_create a custom element from an angular component_

<img src='img/ng-elements-createElement.png'>

<small>
https://angular.io/guide/elements  
</small>
</textarea>
</section>

<section data-markdown>
  <textarea data-template>
### Angular Elements cont'd

* allows custom elements to be used by web apps built on other frameworks
* currently Angular allows only a single version per browser window
* goal (not reached February 2019): have the custom element contain a minimal, self-contained version of the Angular framework
* `ngx-build-plus` can at least build many custom elements with shared angular lib

<small>
https://angular.io/guide/elements
<br>
ngconf 2018 on goals: https://www.youtube.com/watch?v=Z1gLFPLVJjY&t=4s
<br>
https://github.com/manfredsteyer/ngx-build-plus#advanced-example-externals-and-angular-elements
</small>
</textarea>
</section>



<section data-markdown>
    <textarea data-template>
## Discussion

_should you use Web Components?_

</textarea>
  </section>


  <section data-markdown>
      <textarea data-template>
### Pro Web Components

* use the standard
* easy integration with native browser API
* will exist in 20 years from now
* low or zero memory footprint

  </textarea>
    </section>
  
  <section data-markdown>
      <textarea data-template>
### Contra Web Components

* standard gurantees availabilty of technology, but not of community
* polyfills for older browsers
* for efficient component dev really only usable with lit-element (so: just another framework?)
* still a lot of issues around ShadowDOM and CSS (https://dev.to/webpadawan/beyond-the-polyfills-how-web-components-affect-us-today-3j0a)

  </textarea>
    </section>

      
<!-- <section data-markdown class="todo">
    <textarea data-template>
### Nils  

bei mir zieht ja das "standard" argument nicht, ich finde, wenn irgendwas mindestens "quasi-standard" bzw einigermaßen
etabliert ist, kommt es für den Einsatz in Frage (gleiche Diskussion jee oder spring mE).

Demnach wäre bei mir nicht nur WebComponents in der Verlosung, sondern eben auch Angular, Vue, React etc pp. Und dann
würde ich überlegen, wie ich eigentlich Anwendungen bauen will, welche Features sind mir wichtig, wo gefallen mir API,
Doku, Tooling etc. Das würde ich dann nehmen.

Und ich persönlich finde, dass die WebComponents auf dem falschen "Level" abstrahieren bzw nicht genügend Features
bieten (state handling etc). Das alles finde ich in react viel viel besser (vermutlich auch in Angular/Vue) und würde
deswegen WCs nicht verwenden
Ich finde Custom Elements schön und gut, aber die Art+Weise wie ich die entwickeln müsste, würde mir nicht gefallen

</textarea>
</section> -->

<section data-markdown>
  <textarea data-template>
## Advanced: Defining an interface for a library

* primitive data as either attributes or properties and keep in sync
  * missing/wrong attribute (from markup) should fail gracefully (like standard HTML markup)
* rich data as properties
  * missing/wrong property (from call) should throw meaningful error

<small>
https://developers.google.com/web/fundamentals/web-components/best-practices
</small>

</textarea>
</section>

      <section>
        <h2>Wrap Up</h2>
        <p><em>Web Components are and will be a thing</em></p>
        <ul>
            <li class="fragment">Web Components have many use cases
            <li class="fragment">Work with all common frameworks 
            <li class="fragment">All recent browsers support natively 
    
        </ul>
        <p>
                <em>Web Components? Dead, aren't they?</em>
            <br>
            <br>
            <small>
        <a href="http://zeigermann.eu">Oliver Zeigermann</a> / <a href="http://twitter.com/djcordhose">@DJCordhose</a>
            <br>
    <a href="http://djcordhose.github.io/architecture/2019_wc_jsunconf.html">
      http://djcordhose.github.io/architecture/2019_wc_jsunconf.html</a>
    </small>
        </p>
    </section>


    </div>

  </div>

  <script src="reveal.js/lib/js/head.min.js "></script>
  <script src="reveal.js/js/reveal.js "></script>
  <script src="lib/jquery-2.2.4.js "></script>
  <script>
    // $('.weg').remove();
    // uncomment for jax
    $('.jax').remove();
    if (window.location.hostname.indexOf('localhost') !== -1) {
    } else {
      // only applies to public version
      $('.preparation').remove();
      $('.todo').remove();
      $('.local').remove();
      $('.presenter').remove();

    }
    Reveal.addEventListener('ready', function (event) {
        // do we want this???
        $('li').addClass('fragment')

        // make all links open in new tab
        $('a').attr('target', '_blank')

      if (window.location.hostname.indexOf('localhost') !== -1) {
        // only applies to presentation version
        Reveal.configure({ controls: false });
      } else {
        // only applies to public version
        $('.fragment').removeClass('fragment');
      }
      // applies to all versions
      $('code').addClass('line-numbers');
    });
    // $('section').attr('data-background-image', "backgrounds/light-metal.jpg ");
    // $('section').attr('data-background-image', "backgrounds/pink.jpg ");
    // $('section').attr('data-background-image', "backgrounds/white.jpg ");
//    $('section').attr('data-background-image', "backgrounds/code.jpg ");
$('section').attr('data-background-image', "backgrounds/sky.jpg");

  </script>

  <script>

    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
      controls: true,
      progress: true,
      history: true,
      center: true,
      width: 1100,

      transition: 'slide', // none/fade/slide/convex/concave/zoom

      // Optional reveal.js plugins
      dependencies: [
        {
          src: 'reveal.js/lib/js/classList.js', condition: function () {
            return !document.body.classList;
          }
        },
        {
          src: 'reveal.js/plugin/markdown/marked.js', condition: function () {
            return !!document.querySelector('[data-markdown]');
          }
        },
        {
          src: 'reveal.js/plugin/markdown/markdown.js', condition: function () {
            return !!document.querySelector('[data-markdown]');
          }
        },
        {
          src: 'reveal.js/plugin/highlight/highlight.js', async: true, condition: function () {
            return !!document.querySelector('pre code');
          }, callback: function () {
            hljs.initHighlightingOnLoad();
          }
        },
        { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true },
        { src: 'reveal.js/plugin/notes/notes.js', async: true },
        { src: 'lib/js/line-numbers.js' }
      ]
    });

  </script>

</body>

</html>