<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">

  <title>JAX - Moderne Frontend-Architektur mit JavaScript</title>

  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

  <link rel="stylesheet" href="reveal.js/css/reveal.css">
  <!--<link rel="stylesheet" href="reveal.js/css/theme/white.css" id="theme">-->
  <!--<link rel="stylesheet" href="reveal.js/css/theme/black.css" id="theme">-->
  <!--<link rel="stylesheet" href="reveal.js/css/theme/night.css" id="theme">-->
  <!--<link rel="stylesheet" href="reveal.js/css/theme/simple.css" id="theme">-->
  <link rel="stylesheet" href="reveal.js/css/theme/solarized.css" id="theme">

  <!-- Code syntax highlighting -->
  <link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">
  <style>
    /*pre code {*/

    /*display: block;*/

    /*padding: 0.5em;*/

    /*background: #FFFFFF !important;*/

    /*color: #000000 !important;*/

    /*}*/

    .right-img {
      margin-left: 10px !important;
      float: right;
      height: 500px;
    }

    .weg:before {
      content: 'Streichen?';
    }

    .weg {
      color: red !important;
    }

    .presenter h1 {
      color: rgb(255, 0, 234) !important;
    }

    .todo:before {
      content: 'TODO: ';
    }

    .todo {
      color: red !important;
    }

    code span.line-number {
      color: lightcoral;
    }

    .reveal pre code {
      max-height: 1000px !important;
    }

    img {
      border: 0 !important;
      box-shadow: 0 0 0 0 !important;
    }

    .reveal {
      -ms-touch-action: auto !important;
      touch-action: auto !important;
    }

    .reveal h2,
    .reveal h3,
    .reveal h4 {
      letter-spacing: 2px;
      font-family: 'Calibri', sans-serif;
      /* font-family: 'Times New Roman', Times, serif; */
      font-weight: bold;
      color: black;
      font-style: italic;
      letter-spacing: -2px;
      text-transform: none !important;
    }

    .reveal em {
      font-weight: bold;
    }

    .reveal .step-subtitle h1 {
      letter-spacing: 1px;
    }

    .reveal .step-subtitle h2,
    .reveal .step-subtitle h3 {
      text-transform: none;

      font-weight: normal;
      /* font-weight: 400; */
      /* font-family: 'Amiri', serif; */
      font-family: 'Lobster', serif;
      letter-spacing: 1px;
      color: #2aa198;
      /* text-decoration: underline; */
    }

    .reveal .step-subtitle h3 {
      text-decoration: underline;
      font-style: normal
    }

    /* .reveal .step-subtitle h2 {
      font-style: italic;
    } */

    .reveal .front-page h1,
    .reveal .front-page h2 {
      font-family: "League Gothic";
      font-style: normal;
      text-transform: uppercase !important;
      letter-spacing: 1px;
    }

    .reveal .front-page h1 {
      font-size: 2.5em !important;
    }

    .reveal .highlight {
      /* #D3337B;*/
      color: #268bd2;
    }

    .reveal section img {
      background: none;
    }

    .reveal img.with-border {
      border: 1px solid #586e75 !important;
      box-shadow: 3px 3px 1px rgba(0, 0, 0, 0.15) !important;
    }

    .reveal li {
      margin-bottom: 8px;
    }

    /* For li's that use FontAwesome icons as bullet-point */

    .reveal ul.fa-ul li {
      list-style-type: none;
    }

    .reveal {
      color: black !important;
    }
  </style>

  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match(/print-pdf/gi) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
    document.getElementsByTagName('head')[0].appendChild(link);
  </script>

  <!--[if lt IE 9]>
    <script src="reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

  <div class="reveal">
    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">

      <!-- 
  ### JAX Version
  * https://jax.de/microservices/moderne-frontend-architektur-mit-javascript/
  * 60 Minuten
  
  
Moderne Frontend-Architektur mit JavaScript

React, Angular und neuerdings auch Vue und Web Components bestimmen den Bereich der modernen Frontend-Frameworks. 

Weitgehend unabh√§ngig von der Wahl des Frameworks ergeben sich architektonische Herausforderungen, die sich stark von denen einer Backend-Architektur unterscheiden. 

In diesem Talk besch√§ftigen wir uns damit, was eine moderne Single-Page-Anwendung (SPA) ausmacht und wie sie sich von einer klassischen Web-Anwendung unterscheidet, 

wie man eine SPA durch Typisierung wartbar h√§lt, wie sich ein zyklischer Datenfluss auf die Architektur auswirkt und warum daher eine Schichtenarchitektur unbrauchbar wird und 

wie man eine Single-Page-Anwendung in kleinere Module aufspalten und sie dann wieder zu einem stimmigen Ganzen zusammensetzen kann. 

Dieser Talk geht nicht auf die Details einer Implementierung ein und bleibt auf einer Ebene, der Sie auch ohne JavaScript-Kenntnisse folgen k√∂nnen.
       -->
      <section>
        <h2>Moderne Frontend-Architektur (SPAs) mit JavaScript</h2>

        <div>
          <a href="http://zeigermann.eu">Oliver Zeigermann</a> /
          <a href="http://twitter.com/djcordhose">@DJCordhose</a> /
          <a href="https://www.embarc.de/ ">embarc GmbH</a>
        </div>
        <div>
          <a href="https://nilshartmann.net">Nils Hartmann</a> /
          <a href="https://twitter.com/nilshartmann">@nilshartmann</a>
        </div>
        <p style="clear: both">
          <small>Slides:
            <a href="http://bit.ly/jax-spa">
              http://bit.ly/jax-spa</a>
          </small>
        </p>
      </section>


      <section data-markdown>
        <textarea data-template>
## Teil I: Motivation / Herleitung / Hintergrund

</textarea>
      </section>

      <section data-markdown>
        <textarea data-template>
### Moderne Frontend-Architektur === SPA

A single-page application (SPA) is a web application that interacts 
with the user by dynamically rewriting the current page rather than loading entire new pages from a server. 

This approach avoids interruption of the user experience between successive pages.

<small>
https://en.wikipedia.org/wiki/Single-page_application  
</small>
            </textarea>
      </section>


      <section data-markdown>
        <textarea data-template>
#### "Alle" reden von SPA... aber:            
  ### Warum eigentlich nicht klassisch?

  <img src='img/webapp_arch01_classic.png' height="500px">

  Ganz einfach ?!

          </textarea>
      </section>

      <section data-markdown>
        <textarea data-template>
#### "Alle" reden von SPA... aber:            
  ### Warum eigentlich nicht klassisch?
    
  <img src='img/classic/double-submit.jpg' height="650px">
    
  Double Submit
    
                </textarea>
      </section>


      <section data-markdown>
        <textarea data-template>
  ### Warum eigentlich nicht klassisch?
    
  <video controls src="img/classic/roundtrips.mp4" type="video/mp4" height="650px"></video>
  
  Round Trips f√ºr jede Kleinigkeit
    
                </textarea>
      </section>

      <section data-markdown>
        <textarea data-template>
### Warum eigentlich nicht klassisch...
  #### ...mit "ein bisschen" JavaScript?
      
  <img src='img/webapp_arch_02_jquery.png' height="500px">  

üò± 

                  </textarea>
      </section>

      <section data-markdown>
        <textarea data-template>
#### Sauberste L√∂sung:
  ### Single-Page-Anwendung
        
  <img src='img/webapp_arch_03_spa.png'  height="500px">  
  
                    </textarea>
      </section>


      <section data-markdown>
        <textarea data-template>
### Ist das ein Kandidat f√ºr eine SPA? 

<img src='img/spa_or_not_spa_01_spon.png' height="600">

            </textarea>
      </section>
      <section data-markdown>
        <textarea data-template>
### Ist das ein Kandidat f√ºr eine SPA? 

<img src='img/spa_or_not_spa_02_outlook-and-skype.png' height="600">

            </textarea>
      </section>
      <section data-markdown>
        <textarea data-template>
### Ist das ein Kandidat f√ºr eine SPA? 

<img src='img/spa_or_not_spa_03_github.png' height="600">

            </textarea>
      </section>

      <section data-markdown>
        <textarea data-template>
            Typische Anforderungen
            (pro Stakeholder-Rolle)

<img src='img/1-requirements.png' height="650">

            </textarea>
      </section>

      <section data-markdown data-background="img/xing.png"
        style="background-color:white;margin:0px;border:1px solid darkgray;background-color:lightblue">
        ### Fallbeispiel: XING

        Welche Anforderungen wird es hier geben? Fehlen welche?
      </section>

      <section data-background="img/xing.png" style="margin:0px">
        <img src='img/1-requirements.png' height="650">
      </section>

      <!-- <section data-markdown>
        <textarea data-template>
        <img src='img/spicker/2-architektur-aussen.jpg' height="650">

        </textarea>
      </section> -->

      <section data-markdown>
        <textarea data-template>
## Teil II: √Ñu√üere Architektur

</textarea>
      </section>

      <section data-markdown>
        <textarea data-template>
              
  
  <img src='img/aeussere-architektur.png' >

  Herausforderung: Anwendung zerteilen und wieder integrieren
  
              </textarea>
      </section>


      <section data-markdown>
        <textarea data-template>
      <img src='img/mm.png' >
                  </textarea>
      </section>

      <section data-markdown>
        <textarea data-template>
        <img src='img/mc.png' >
                    </textarea>
      </section>


      <section data-markdown>
        <textarea data-template>
          <img src='img/links.png' >
                      </textarea>
      </section>

      <section data-markdown>
        <textarea data-template>
            <img src='img/aa-zusammenfassung.png' >
                        </textarea>
      </section>

      <section data-markdown data-background="img/xing.png"
        style="background-color:white;margin:0px;border:1px solid darkgray;background-color:lightblue">
        ### Fallbeispiel: XING

        Welche √Ñu√üere Architektur? Was passt? Wie schneiden?
      </section>

      <section data-markdown>
        <textarea data-template>
## Teil III: Innere Architektur

</textarea>
      </section>

      <section data-markdown>
        <textarea data-template>
  <img src='img/komponente.png' height="650">
  
              </textarea>
      </section>

      <section data-markdown>
        <textarea data-template>
### Komposition von Komponenten

<img src='img/smart-dumb-components.png' height="600">
                </textarea>
      </section>

      <section data-markdown>
        <textarea data-template>
  Kommunikation zwischen beliebigen Anwendungsteilen
    <img src='img/komponenten-kommunikation.png' height="550">

Klarer Daten- und Kontroll-Fluss    
                  </textarea>
      </section>
      <section data-markdown>
        <textarea data-template>
Reaktiver Renderzyklus
 <img src='img/render-zyklus.png' height="550">
                    </textarea>
      </section>


<section>
    <h3>Smart and Dumb Components</h3>
      <h2>Limitations</h2>
      <p style="color: #2aa198">Mainly with growing and long-living applications</p>
      
      <ul>
        <li style="font-size: 80%">"God-like" components: State and logic tend to slowly move up to a few really fat components
        <li style="font-size: 80%">Distributed, mutatable state makes maintainability and understanding hard
          <ul>
            <li>Where does the state belong to?</li>
            <li>In which state is the application?
          </ul>
        </li>
        <li style="font-size: 80%">Mash up of framework and UI code (hardens switching the framework)
          <li style="font-size: 80%">Still open questions regarding the architecture
              <ul>
                  <li>How to handle asynchronous code?
                  <li>How to do proper initialization of the application?
                  <li>How to test the business logic?
              </ul>
          </li>
      </ul>
  </section>

  <section data-markdown>
      <textarea data-template>
### Data Layer ‚Äì transmit and manage data

<img src='img/js-data-layer-2018.png' height="500px">

https://2018.stateofjs.com/data-layer/conclusion/

      </textarea>
  </section>

      <section data-markdown>
        <textarea data-template>
### Redux/ngrx/vuex/MobX
 
  <img src='img/data-management.png' height="550">
                      </textarea>
      </section>

      <section data-markdown data-background="img/xing.png"
        style="background-color:white;margin:0px;border:1px solid darkgray;background-color:lightblue">
        ### Fallbeispiel: XING

        Wie w√ºrden wir die Anwendungsteile in Smart/Dumb zerteilen?
        Macht ein Data-Layer hier Sinn?
      </section>

      <section data-markdown>
        <textarea data-template>
## Teil IV: Umsetzung

</textarea>
      </section>


      <section data-markdown>
        <textarea data-template>
### TypeScript f√ºr Gesch√§ftsanwendungen

_Alle Frameworks arbeiten gut mit TypeScript_

<img src='img/typescript.jpg' height="400px">

<small>
https://www.typescriptlang.org/
</small>

</textarea>
      </section>

      <section>
        <h3>Basics</h3>
        <pre class="fragment"><code class="typescript line-numbers" contenteditable data-trim>
// variables can have type information
let foo: string;
foo = 'yo';
// Error: Type 'number' is not assignable to type 'string'.
foo = 10;
</code></pre>
        <pre class="fragment"><code class="typescript line-numbers" contenteditable data-trim>

// types can be inferred (return type)
function sayIt(what: string) {
  return `Saying: ${what}`;
}
const said: string = sayIt(obj);

</code></pre>
        <pre class="fragment"><code class="typescript line-numbers" contenteditable data-trim>
class Sayer {
  what: string; // mandatory

  constructor(what: string) {
      this.what = what;
  }

  // return type if you want to
  sayIt(): string {
      return `Saying: ${this.what}`;
  }
}
</code></pre>
      </section>

      <section data-markdown>
        <textarea data-template>
### Verhalten wie aus Java gewohnt            

<img src='img/screenshot-typescript.png' height="600">

Probleme werden zur Entwicklungszeit sichtbar
<br>
Show References geht verl√§sslich
<br>
Refactoring m√∂glich

              </textarea>
      </section>

      <section data-markdown>
        <textarea data-template>
### Frameworks

1. Angular: _rxjs is king_
1. React: _JavaScript is king_
1. Vue: _HTML/CSS is king_
1. Web Components: _no framework is king_
            </textarea>
      </section>

      <section data-markdown>
        <textarea data-template>
### Annual Survey among JS Developers

_Caution_: no distinction between Angular.js (1) and Angular (2-x)
<img src='img/js-frameworks-2018.png' height="500px">
<small>
https://2018.stateofjs.com/front-end-frameworks/conclusion
</small>

        </textarea>
    </section>

    <!-- <section data-markdown>
      <textarea data-template>
### Questions on Framework on Stack Overflow

<img src='img/frameworks-stack-overflow.png' height="500px">

<small>
  https://insights.stackoverflow.com/trends?tags=angular%2Cangularjs%2Creactjs%2Cjquery%2Cvue.js%2Cvuejs2%2Cpolymer
</small>
</textarea>
</section>

<section data-markdown>
  <textarea data-template>
### Tech likes React, Insurances like Angular

<img src='img/tag_by_industry_graph-1-768x768.png' height="750px">

<small>
  https://stackoverflow.blog/2018/01/11/brutal-lifecycle-javascript-frameworks/
</small>
</textarea>
</section>
 -->

 <section data-markdown>
  <textarea data-template>
### React

* nur rendering-lib
* konservativ weiterentwickelt
* freie Wahl des Stils, Facebook selbst bevorzugt functional 
    </textarea>
  </section>

<section data-markdown>
  <textarea data-template>
### Angular

* choose Angular when you want a complete framework
* and like other (hopefully smarter) people to make the right choices for you 
* you like classes (while React people like functions)
    </textarea>
  </section>

<section data-markdown>
  <textarea data-template>
### Vue.js

* took over template syntax and quite some audience from Angular.js 1
* easy to master
* templates doable by frontend (HTML/CSS) people
    </textarea>
  </section>

<section data-markdown>
<textarea data-template>
### Web Components

* Standard Browser-API
* Komponenten sind technisch isoliert (nicht auf JS Ebene)
* optional lit-element f√ºr reactives Rendering (wie klassisches React)

</textarea>
</section>

      <section data-markdown class="no-fragment">
        <textarea data-template>
### TL'DR

Welches Framework soll ich nehmen?

* Angular: erzwingt Einheitlichkeit √ºber viele Teams
* React: maximale Flexibilit√§t
* Web Components: keine Abh√§ngigkeiten          
* Vue: Frontendler (UI Developer) lieben es

_Letzlich ist es Geschmack und pers√∂nliche Erfahrung_
</textarea>
      </section>

      <section data-markdown>
        <textarea data-template>
### Fallbeispiel: XING

Welches Framework passt auf Anforderungen?
            </textarea>
      </section>

      <section>
        <h2>Vielen Dank!</h2>
        <h3>Es gibt Architektur-Ans√§tze f√ºr gro√üe und wartbare SPA Anwendungen</h3>
        <p>
          <a href="http://zeigermann.eu ">Oliver Zeigermann</a> /
          <a href="http://twitter.com/djcordhose ">@DJCordhose</a> /
          <a href="https://www.embarc.de/ ">embarc GmbH</a>
        </p>
        <p>
          <a href="https://nilshartmann.net ">Nils Hartmann</a> /
          <a href="http://twitter.com/nilshartmann ">@nilshartmann</a>
        </p>

        <p>
          <a href="http://bit.ly/jax-spa">
            http://bit.ly/jax-spa</a>
        </p>
      </section>

    </div>

  </div>

  <script src="reveal.js/lib/js/head.min.js "></script>
  <script src="reveal.js/js/reveal.js "></script>
  <script src="lib/jquery-2.2.4.js "></script>
  <script>
    // $('.weg').remove();
    // uncomment for jax
    $('.jax').remove();
    if (window.location.hostname.indexOf('localhost') !== -1) {
    } else {
      // only applies to public version
      $('.preparation').remove();
      $('.todo').remove();
      $('.local').remove();
      $('.presenter').remove();

    }
    Reveal.addEventListener('ready', function (event) {
      // do we want this???
      $('li').addClass('fragment')
      $('.no-fragment li').removeClass('fragment')

      // make all links open in new tab
      $('a').attr('target', '_blank')

      if (window.location.hostname.indexOf('localhost') !== -1) {
        // only applies to presentation version
        Reveal.configure({ controls: false });
      } else {
        // only applies to public version
        $('.fragment').removeClass('fragment');
      }
      // applies to all versions
      $('code').addClass('line-numbers');
    });
    // $('section').attr('data-background-image', "backgrounds/light-metal.jpg ");
    // $('section').attr('data-background-image', "backgrounds/pink.jpg ");
    // $('section').attr('data-background-image', "backgrounds/white.jpg ");
    //    $('section').attr('data-background-image', "backgrounds/code.jpg ");
    $('section').attr('data-background-image', "backgrounds/sky.jpg");

  </script>

  <script>

    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
      controls: true,
      progress: true,
      history: true,
      center: true,
      width: "100%",
      height: "100%",

      transition: 'slide', // none/fade/slide/convex/concave/zoom

      // Optional reveal.js plugins
      dependencies: [
        {
          src: 'reveal.js/lib/js/classList.js', condition: function () {
            return !document.body.classList;
          }
        },
        {
          src: 'reveal.js/plugin/markdown/marked.js', condition: function () {
            return !!document.querySelector('[data-markdown]');
          }
        },
        {
          src: 'reveal.js/plugin/markdown/markdown.js', condition: function () {
            return !!document.querySelector('[data-markdown]');
          }
        },
        {
          src: 'reveal.js/plugin/highlight/highlight.js', async: true, condition: function () {
            return !!document.querySelector('pre code');
          }, callback: function () {
            hljs.initHighlightingOnLoad();
          }
        },
        { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true },
        { src: 'reveal.js/plugin/notes/notes.js', async: true },
        { src: 'lib/js/line-numbers.js' }
      ]
    });

  </script>

</body>

</html>