<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">

  <title>Frontend Architectures</title>

  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

  <link rel="stylesheet" href="reveal.js/css/reveal.css">
  <!--<link rel="stylesheet" href="reveal.js/css/theme/white.css" id="theme">-->
  <!--<link rel="stylesheet" href="reveal.js/css/theme/black.css" id="theme">-->
  <!--<link rel="stylesheet" href="reveal.js/css/theme/night.css" id="theme">-->
  <!--<link rel="stylesheet" href="reveal.js/css/theme/simple.css" id="theme">-->
  <link rel="stylesheet" href="reveal.js/css/theme/solarized.css" id="theme">

  <!-- Code syntax highlighting -->
  <link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">
  <style>
    /*pre code {*/

    /*display: block;*/

    /*padding: 0.5em;*/

    /*background: #FFFFFF !important;*/

    /*color: #000000 !important;*/

    /*}*/

    .right-img {
      margin-left: 10px !important;
      float: right;
      height: 500px;
    }

    .weg:before {
      content: 'Streichen?';
    }

    .weg {
      color: red !important;
    }

    .presenter h1 {
      color: rgb(255, 0, 234) !important;
    }

    .todo:before {
      content: 'TODO: ';
    }

    .todo {
      color: red !important;
    }

    code span.line-number {
      color: lightcoral;
    }

    .reveal pre code {
      max-height: 1000px !important;
    }

    img {
      border: 0 !important;
      box-shadow: 0 0 0 0 !important;
    }

    .reveal {
      -ms-touch-action: auto !important;
      touch-action: auto !important;
    }

    .reveal h2,
    .reveal h3,
    .reveal h4 {
      letter-spacing: 2px;
      font-family: 'Amiri', serif;
      /* font-family: 'Times New Roman', Times, serif; */
      font-weight: bold;
      font-style: italic;
      letter-spacing: -2px;
      text-transform: none !important;
    }

    .reveal em {
      font-weight: bold;
    }

    .reveal .step-subtitle h1 {
      letter-spacing: 1px;
    }

    .reveal .step-subtitle h2,
    .reveal .step-subtitle h3 {
      text-transform: none;

      font-weight: normal;
      /* font-weight: 400; */
      /* font-family: 'Amiri', serif; */
      font-family: 'Lobster', serif;
      letter-spacing: 1px;
      color: #2aa198;
      /* text-decoration: underline; */
    }

    .reveal .step-subtitle h3 {
      text-decoration: underline;
      font-style: normal
    }

    /* .reveal .step-subtitle h2 {
      font-style: italic;
    } */

    .reveal .front-page h1,
    .reveal .front-page h2 {
      font-family: "League Gothic";
      font-style: normal;
      text-transform: uppercase !important;
      letter-spacing: 1px;
    }

    .reveal .front-page h1 {
      font-size: 2.5em !important;
    }

    .reveal .highlight {
      /* #D3337B;*/
      color: #268bd2;
    }

    .reveal section img {
      background: none;
    }

    .reveal img.with-border {
      border: 1px solid #586e75 !important;
      box-shadow: 3px 3px 1px rgba(0, 0, 0, 0.15) !important;
    }

    .reveal li {
      margin-bottom: 8px;
    }

    /* For li's that use FontAwesome icons as bullet-point */

    .reveal ul.fa-ul li {
      list-style-type: none;
    }
  </style>

  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match(/print-pdf/gi) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
    document.getElementsByTagName('head')[0].appendChild(link);
  </script>

  <!--[if lt IE 9]>
    <script src="reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

  <div class="reveal">
    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">


<!-- <section data-markdown class="todo">
  <textarea data-template>

Dan Abramov (@dan_abramov) tweeted at 10:28 PM on Tue, Jul 24, 2018:
When you write <div><Foo /></div> it's exactly how it works üôÇ. You're "passing" <Foo /> to div. So <Nav><Foo /></Nav> is just as fine. And that's exact same thing as <Nav children={<Foo />} /> so yes, you can have custom ones. It's in our docs: https://t.co/R7x6hzjGJj
(https://twitter.com/dan_abramov/status/1021854688008982528?s=03)
</textarea>
</section>

<section data-markdown class="todo">
  <textarea data-template>
Dan Abramov (@dan_abramov) tweeted at 10:11 PM on Tue, Jul 24, 2018:
I think this is one of the biggest misunderstandings about React. It would be great to highlight this pattern more. Note how by making <Nav> and <Body> accept any elements as children, I removed the need to pass the "user" prop down through them. https://t.co/IlBecFn8Ao
(https://twitter.com/dan_abramov/status/1021850499618955272?s=03)

  </textarea>
</section>

      <section data-markdown class="todo">
          <textarea data-template>
  ### most scalable file structure
  
  https://twitter.com/dan_abramov/status/1027245759232651270
        </textarea>
    </section>
  
  

  <section data-markdown class="todo">
          <textarea data-template>
Dan Abramov (@dan_abramov) tweeted at 5:13 PM on Fri, Aug 03, 2018:
Here‚Äôs another way to phrase it. Redux (the library) itself is very unsophisticated. It's pretty much this:

dispatch(action) {
  state = reducer(state, action);
  subscribers.forEach(s => s());
}

The concepts are great, but wouldn‚Äôt it be better if the core was less na√Øve?
(https://twitter.com/dan_abramov/status/1025399231576727555?s=03)
</textarea>
</section>

<section data-markdown class="todo">
  <textarea data-template>
### New React Context vs Redux

This a very comprehensive comparsion of two great tools, #ReactJS Context and #Redux with a nuanced and unobtrusive conclusion that is valid for almost all libX-vs-libY discussions. Thank you so much @dceddia for writing! üëç https://t.co/tenlvKTOPQ
(https://twitter.com/nilshartmann/status/1021851945504591874?s=03)

https://auth0.com/blog/react-context-api-managing-state-with-ease/
</textarea>
</section>

<section data-markdown class="todo">
  <textarea data-template>

    Jonas Bandi (@jbandi) tweeted at 10:30 AM on Fri, Sep 14, 2018:
    There are two perspectives how to look at #TypeScript:
    - TypeScript is a la language that compiles to JavaScript
    - TypeScript is a tool that enhances JavaScript with an optional static type system
    
    I prefer the second perspective.
    (https://twitter.com/jbandi/status/1040518056051654659?s=03)
  </textarea>
</section>


      <section>
        <h2>Wir nehmen Frontend-Architektur nicht f√ºr voll</h2>
        <p>Zitate</p>
        <ul>
          <li class="fragment">
            <em>Frontend-Architektur: Ich dachte sowas gibt es gar nicht</em>
          </li>
          <li class="fragment">
            <em>Das Frontend kloppen wir am Ende einfach irgendwie drauf</em>
          </li>
          <li class="fragment">
            <em>Architektur f√ºr ein bisschen CSS-Pixel-Geschubse?</em>
          </li>
        </ul>
      </section>
 -->
              <!-- <section data-markdown>
          <textarea data-template>
### Konsistente UI ist gekoppelt

<img src='dan_soc.png'>

<small>
https://twitter.com/dan_abramov/status/1008131488481730561
</small>
              </textarea>
        </section> -->


      <!-- <section data-markdown class="todo">
        <textarea data-template>
### New React Context vs Redux

This a very comprehensive comparsion of two great tools, #ReactJS Context and #Redux with a nuanced and unobtrusive conclusion that is valid for almost all libX-vs-libY discussions. Thank you so much @dceddia for writing! üëç https://t.co/tenlvKTOPQ
(https://twitter.com/nilshartmann/status/1021851945504591874?s=03)
</textarea>
</section>

<section data-markdown class="todo">
    <textarea data-template>
### Do we need a framework, would Web Components do?

https://twitter.com/mislav/status/1022058279000842240
</textarea>
</section> -->

     <!-- <section data-markdown class="todo">
        <textarea data-template>
### React and TypeScript

* https://twitter.com/NaveenS16/status/1023433663873048577

* https://github.com/sw-yx/react-typescript-cheatsheet
</textarea>
</section> -->

<!-- <section data-markdown class="todo">
    <textarea data-template>
### Nils  

bei mir zieht ja das "standard" argument nicht, ich finde, wenn irgendwas mindestens "quasi-standard" bzw einigerma√üen
etabliert ist, kommt es f√ºr den Einsatz in Frage (gleiche Diskussion jee oder spring mE).

Demnach w√§re bei mir nicht nur WebComponents in der Verlosung, sondern eben auch Angular, Vue, React etc pp. Und dann
w√ºrde ich √ºberlegen, wie ich eigentlich Anwendungen bauen will, welche Features sind mir wichtig, wo gefallen mir API,
Doku, Tooling etc. Das w√ºrde ich dann nehmen.

Und ich pers√∂nlich finde, dass die WebComponents auf dem falschen "Level" abstrahieren bzw nicht gen√ºgend Features
bieten (state handling etc). Das alles finde ich in react viel viel besser (vermutlich auch in Angular/Vue) und w√ºrde
deswegen WCs nicht verwenden
Ich finde Custom Elements sch√∂n und gut, aber die Art+Weise wie ich die entwickeln m√ºsste, w√ºrde mir nicht gefallen

</textarea>
</section> -->


        <section data-markdown class="preparation">
            <textarea data-template>
### Preparation
* Start Data Server
  * cd code\server
  * yarn dev
* Start Angular Sample Apps
* For Redux    
  * cd code\ng\ng-sandbox
  * ng serve --port=4200
  * http://localhost:4200/

        </textarea>
    </section>
<!-- 
React, Angular (2 and up), and lately also Vue govern the realm of modern frontend frameworks. Largely independent of
which framework you choose there is a variety of architectural approaches you can use. The challenges you face in
frontend architecture are very different from backend architectures in that the control and data flow rather goes in
cycles than traversing through layers. Additionally, decoupling of parts of the application must not impact the user
experience, so that the user has the impression of one consistent and coherent system. These challenges are often
underestimated and most attention goes to the backend.


We will shed some light into the matter and cover the main architectural challenges including
* where to maintain state 
* how to decouple parts of your application 
* how to change relevant parts of the UI when state changes 
* how to structure your application when it grows  

If you are not interested in JavaScript or the browser, this session can still be interesting as all these patterns are
applicable to any other language and any other runtime environment.

40 Minuten
 -->
      <section>
        <h2>Overview of current (JavaScript) Frontend Architectures</h2>
        <div>
          <a href="https://www.topconf.com/conference//topconf-tallinn-2018/talk/overview-of-current-javascript-frontend-architectures/" target="_blank">
            Topconf Tallinn 2018</a>
        </div>

        <div>
          <a href="http://zeigermann.eu">Oliver Zeigermann</a> /
          <a href="http://twitter.com/djcordhose">@DJCordhose</a> /
        </div>
        <p style="clear: both">
          <small>Slides:
            <a href="http://bit.ly/topconf-js">
              http://bit.ly/topconf-js</a>
          </small>
        </p>
      </section>
            <!-- <section data-markdown class="todo">
        <textarea data-template>
            </textarea>
      </section> -->



      <section data-markdown>
        <textarea data-template>
### OH frontend architecture

* frontend architecture: does this even exist?
* frontend: we just wing it at the end!
* why architecture for a little bit of CSS?
* our full stack developers handle backend and frontend architecture

            </textarea>
      </section>

      <section data-markdown>
          <textarea data-template>

<img src='img/js-arch.png' height="600px">
  

<small>https://twitter.com/mr_mig_by/status/1060267034422976513</small>
              </textarea>
        </section>
  
            <section>
            <img src="img/frontend-architecture.png" height="600px">

            <p><small><a href="https://twitter.com/markdalgleish/status/908146609942257664" target="_blank">
                https://twitter.com/markdalgleish/status/908146609942257664
            </a></small></p>
        </section>


    <section>
      <img src="img/frontend-katz-twitter.png" height="600px">

      <p><small><a href="https://twitter.com/wycats" target="_blank">
          @wycats
      </a>: <a href="https://twitter.com/wycats/status/930463710941872128" target="_blank">
          https://twitter.com/wycats/status/930463710941872128
      </a></small></p>
  </section>


      <section>
          <h2>Classic Web Applications</h2>
          <img src="img/webapp_arch01_classic.png" style="max-width: 40%; float: left">
          <ul style="max-width: 50%; float: right">
              <li class="fragment"  >Browser sends HTTP Request
            <li class="fragment"  >Content is <span class="highlight">rendered on the Server</span>
              <li class="fragment"  >HTML is sent back to the Browser
            <li class="fragment"  ><span class="highlight">Browser only shows the page</span> to the user
              <li class="fragment"  >Each interaction repeats this round-trip
            <li class="fragment">Frequent page load means severe limitation to UX
                    </ul>
      </section>

      <section>
        <h2>jquery / AJAX</h2>
        <p>Add some adhoc JavaScript snippet when UI needs to be responsive</p>
        <img src="img/webapp_arch_02_jquery.png" style="max-width: 40%; float: left">
        <ul style="width: 50%; float: right; font-size: 80%">
            <li class="fragment">some renedering in the Browser, some on the server
            <li class="fragment">architecturally a PITA
            <li class="fragment">starts as a solution nice, quick and easy to implement 
            <li class="fragment">sooner or later results in unmaintainable code
        </ul>
    </section>

    <section>
        <h2>SPA: Single Page Application</h2>
        <p>Move your Application to the Client</p>
        <img src="img/webapp_arch_03_spa.png" style="max-width: 40%; float: left">
        <ul style="width: 50%; float: right; font-size: 80%">
            <li class="fragment">only one (single) HTML page that mainly loads JavaScript and CSS</li>
            <li class="fragment">Server has Data-API (JSON/REST API)</li>
            <li class="fragment">Server can still hold Business Logic (or it is on the client only)
            <li class="fragment">allows for Offline and best UX
            <li class="fragment">same challenges as all rich frontend applications
                  </ul>
    </section>

    <section>
      <h3 style="line-height: 1em">Single-Page Applications</h3>
      <h2>Components with Templates</h2>
      <p style="color: #2aa198">A SPA is composed of (business) components:</p>
      <ul>
          <li>Templates describe the UI of the component
          <li>But now:
            <ul>
              <li>Logic is part of the component</li>
              <li>Logic is a "first-class" citizen and no longer a "loose" snippet (like in jQuery)
              <li><span class="highlight" >Logic is fully executed on the client</span></li>
            </ul>
            <li>Prominent Frameworks: React, Angular, Vue, and Web Components (not really)</li>
      </ul>
  </section>


      <section data-markdown>
          <textarea data-template>
### Which Framework?

* Might be off-topic but people will keep asking me anyway :D
* Technically it does not matter much
* This is a very biased and a very wrong answer
* But it is at least an answer
            </textarea>
          </section>

    <section data-markdown>
        <textarea data-template>
### Annual Survey among JS Developers

<img src='img/js-frameworks-2018.png' height="500px">

https://2018.stateofjs.com/front-end-frameworks/conclusion  

        </textarea>
    </section>

    <section data-markdown>
      <textarea data-template>
### Questions on Framework on Stack Overflow

<img src='img/frameworks-stack-overflow.png' height="500px">

<small>
https://insights.stackoverflow.com/trends?tags=angular%2Cangularjs%2Creactjs%2Cjquery%2Cvue.js%2Cvuejs2
</small>
</textarea>
</section>

<section data-markdown>
  <textarea data-template>
### Tech likes React, Insurances likes Angular

<img src='img/tag_by_industry_graph-1-768x768.png' height="500px">

<small>
  https://stackoverflow.blog/2018/01/11/brutal-lifecycle-javascript-frameworks/
</small>
</textarea>
</section>



<section data-markdown>
        <textarea data-template>
### Why React?
<img src='img/twitter-nils-react.png' height="500px">

<small>
https://twitter.com/nilshartmann/status/1055769094660722688
</small>
          </textarea>
        </section>

      <section data-markdown>
        <textarea data-template>
### Angular

* choose Angular when you want a complete framework
* and like other (hopefully smarter) people to make the right choices for you 
          </textarea>
        </section>

      <section data-markdown>
        <textarea data-template>
### Vue.js

* took over template syntax and quite some audience from Angular.js 1
* easy to master
* templates doable by frontend (HTML/CSS) people
          </textarea>
        </section>
          
      <section data-markdown>
        <textarea data-template>
### Why not just Web Components?

* Binding to model
* Templates
* Re-Rendering
* Declarative vs Imperative

      </textarea>
  </section>

  <section data-markdown>
    <textarea data-template>
### Why not just PubSub?

The classic for listening to changes

* Hard to understand flow
* We tend to forget to de-register 
  * things become slow
  * memory leaks
  * requires re-loads
    </textarea>
  </section>

  <section data-markdown>
      <textarea data-template>
  ### Polymer LitElement and lit-html
  
  Solves these issues within the JS world using mostly standards
  
  https://github.com/Polymer/lit-element
  <br>
  https://polymer.github.io/lit-html/

  <p class="fragment"><em>But not 1.0, yet, and than just another framework?</em></p>

</textarea>
  </section>
  
  
  <section data-markdown>
    <textarea data-template>
### React, Angular and Vue solve all of these

* Binding to model
  * One-Way-Binding
* Templates
  * JSX, HTML with directives, HTML 
* Re-Rendering
  * Virtual DOM or Zones checking Model updates

  </textarea>
</section>

        
<section class="step-subtitle">
    <h3>Composing an Application from Components</h3>
    <h1>Smart and Dumb Components<span style="color:#D3337B">*</span></h1>
    <h3 style='color:#586e75;font-family: "Amiri", serif;letter-spacing:-2px;text-decoration:none;font-weight:bold'><span style="color:#D3337B">*</span>also known as <em style='font-family: "League Gothic", Impact, sans-serif;letter-spacing:1px;font-style:normal;text-transform:uppercase'>Mediator Pattern</em> with Web Components / Polymer</h3>
</section>

<section>
  <h3><span class="highlight">Smart</span> Components </h3>
    <ul>
      <li>Managing (part of) the application <span class="highlight">state</span>
      <li>Contain UI <span class="highlight">logic</span></li>
        <li>Pass parts of the state as immutable data to subcomponents</li>
        <li>Pass callbacks to subcomponents for interaction</li>
        <li>Mostly domain-specific, not intended to be reusable
    </ul>
    <p><em>Aka Container</em></p>
</section>

<section>
    <h3><span class="highlight">Dumb</span> Components</h3>
    <ul>
      <li>only for <span class="highlight">presentation</span>, no logic
      <ul>
        <li>but might contain own ("transient") state
        </li>
      </ul>
      <li>have <span class="highlight">no knowledge or dependencies</span> to their surrounding components
        <li>children of Dumb Components are usually other Dumb Components
        (but there are
            <a target="_blank" href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0#.z8xy5zvhs">
              exceptions</a>)
        <li>reusable
    </ul>
    <p><em>Aka Presentational Component or just Component</em></p>
</section>

<section>
    <img src="img/smart-dumb-properties.png">
</section>

    <section>
        <h2>Smart Component</h2>
        <pre><code data-trim contenteditable class="javascript">
@Component({
template: `&lt;sub [greeting]={{greeting}} (onSend)="sent($event)"></sub>`
})
export class AppComponent {
  // component state
  private greeting: string = 'Hiho';

  // dependency injection
  constructor(private greetingService: GreetingService) {
  }

  // "Business Logic" delegated to service
  sent(greeting) {
    this.greeting = this.greetingService.greetBack(greeting);
  }
}
        </code></pre>
      <p><a target="_blank" href="https://angular.io/tutorial/toh-pt4">
          https://angular.io/tutorial/toh-pt4</p>
      </a></p>
    </section>

    <section>
        <h2>Dumb Component</h2>
        <pre><code data-trim contenteditable class="javascript">
@Component({
selector: 'sub',
template: `
<input [(ngModel)]="greeting">
<p>{{greeting}}, World</p>
<button (click)="send()">Send</button>
`,
})
export class SubComponent {
  @Input() greeting: string;

  // rxjs observer
  @Output() onSend = new EventEmitter();

  // no business logic, just event emitting
  send() {
    this.onSend.emit(this.greeting);
  }
}
        </code></pre>
    </section>

    <section>
        <h3>Example</h3>
        <img src="exercise/detail.png">

        <p><small>What would be candidates for Smart-/Dumb-Components?</small></p>
    </section>

    <section>
        <h3>Dumb</h3>
        <img src="exercise/detail-dumb.jpg">
    </section>

    <section>
        <h3>Smart</h3>
        <img src="exercise/detail-smart.jpg">
    </section>


    <section class="next-step">
        <h3>Smart and Dumb Components</h3>
          <h2>Limitations</h2>
          <p style="color: #2aa198">Mainly with growing and long-living applications</p>
          <ul>
            <li class="fragment" style="font-size: 80%">"God-like" components: State and logic tend to slowly move up to a few really fat components
            <li class="fragment" style="font-size: 80%">Distributed, mutatable state makes maintainability and understanding hard
              <ul>
                <li>Where does the state belong to?</li>
                <li>In which state is the application?
              </ul>
            </li>
            <li class="fragment" style="font-size: 80%">Mash up of framework and UI code (hardens switching the framework)
              <li class="fragment" style="font-size: 80%">Still open questions regarding the architecture
                  <ul>
                      <li>How to handle asynchronous code?
                      <li>How to do proper initialization of the application?
                      <li>How to test the business logic?
                  </ul>
              </li>
          </ul>
      </section>

      <section data-markdown>
          <textarea data-template>
  ### Data Layer ‚Äì transmit and manage data
  
  <img src='img/js-data-layer-2018.png' height="500px">
  
  https://2018.stateofjs.com/data-layer/conclusion/
  
          </textarea>
      </section>
  
      <section>
          <h1>Redux</h1>
          <ul>
            <li><span class="highlight">Central</span> state management: one store for whole app, like a database</li>
            <li><span class="highlight">External</span> state management: extract logic from the (UI-)components</li>
          </ul>
          <em>It's not only a framework, it's also a pattern (like MVC)</em>
      </section>

      <section>
          <h2>Redux is independent of UI framework</h2>
          <p style="color: #2aa198">Bindings exist for popular UI frameworks</p>
          <ul style="font-size: 80%">
              <li>React: <a href="http://redux.js.org/docs/basics/UsageWithReact.html" target="_blank">
                  http://redux.js.org/docs/basics/UsageWithReact.html
              </a>
              <li>Angular: <a href="https://github.com/ngrx/platform" target="_blank">https://github.com/ngrx/platform</a></li>
              <li>Vue: <a href="https://github.com/vuejs/vuex" target="_blank">https://github.com/vuejs/vuex</a>
              <li>Web Components (Polymer): Redux is recommended implementation of <em>Global Mediator Pattern</em>,
                  <a href="https://twitter.com/DJCordhose/status/899943415353311232" target="_blank">https://twitter.com/DJCordhose/status/899943415353311232</a>
                  <a href="https://tur-nr.github.io/polymer-redux/" target="_blank">https://tur-nr.github.io/polymer-redux/</a>
          </ul>

      </section>

      <section>
          <h3>Redux extracts responsibility out of the UI framework</h3>
          <img src="img/redux-02-extracting-responsibility.png" style="max-height: 500px; border:0;box-shadow:0 0 0 0"/>
      </section>

      <section>
          <h3>Redux Pattern</h3>
          <h2>Resulting Architecture</h2>
          <img src="img/redux-03-resulting-redux-architecture.png" style="max-height: 500px; border:0;box-shadow:0 0 0 0"/>
      </section>


      <section>
          <h2>Different Types of State</h2>
          <img src="img/three-kinds-of-state.png">
      </section>
      
      <section data-markdown>
          <textarea data-template>
### Demo
* Redux Tools
* Backend Calls
* Routing
  * http://localhost:4200/root
  * http://localhost:4200/counter
* Extract Parameters from URL: http://localhost:4200/counter/100  

http://localhost:4200/
            </textarea>
          </section>
    

   <section>
<h3>Reducer</h3>
<pre><code data-trim contenteditable class="javascript">
export function counterReducer(state: number = 0, action: Action) {
  switch (action.type) {
    case INCREMENT:
      return state + 1;

    case DECREMENT:
      return state - 1;

    case RESET:
      return 0;

    default:
      return state;
  }
}
</code></pre>
<pre><code data-trim contenteditable class="javascript">
import { NgModule } from '@angular/core';
import { StoreModule } from '@ngrx/store';
import { counterReducer } from './counter';

@NgModule({
  imports: [StoreModule.forRoot({ count: counterReducer })],
})
export class AppModule {}    
</code></pre>
</section>

   <section>
<h3>Connection to Store</h3>
<pre><code data-trim contenteditable class="javascript">

interface AppState {
  count: number;
}

@Component({
  template: `<div>Current Count: {{ count$ | async }}</div>`
})
export class CounterComponent {

  count$: Observable&lt;number>;

  constructor(private store: Store&lt;AppState>) {
    this.count$ = store.pipe(select('count'));
  }

  reset() {
    this.store.dispatch({ type: RESET });
  }

}
</code></pre>
</section>


      <section>
          <h3>Is anyone really using this?</h3>
          <div class="fragment">
              <a href="https://www.xing.com/messenger" target="_blank">
              <img src="xing-messenger-redux.png" height="550px">
              </a>
              <small>Microsoft Outlook, Twitter, Apple, XING and many others use React and Redux</small>
          </div>
      </section>

      <section>
          <h2>Redux</h2>
          <h3>Architectural guidance</h3>
          <ul>
                  <li>Uni-directional data flow
                  <li>Central and immutable state: store
                          <li>Only reducers are allowed to modify state
                                  <li>State moves from Smart Components to store
                  <li>UI logic moves from Smart Components in Action-Creators / Services and Reducer
                  <li>Asynchronous code only in Action-Creators / Services or Effects
                  <li>Initializing of the app with central action
          </ul>
      </section>

      <section data-markdown>
    <textarea data-template>
### But don't overdo it

<small>Spreading out your application into too many tiny fragments can make it hard to read and maintain</small>`
<img src='ngrx-overdone.jpg' height="500px">

<small>
https://twitter.com/jbandi/status/1023954402116358145
</small>
      </textarea>
    </section>


        <!-- <section>
						<h3>Wrap Up Redux</h3>
						<p  style="color: #2aa198">A UI pattern for User Interfaces</span>
            <ul class="fragment" style="font-size:80%">
                <li>Mainstream solution
                <li>Independent of framework
                <li>Easy testing of business logic as logic is implemented only in pure functions ("Reducer")
                <li>Great debugging because of dev tools
                <li>Works great in large applications with many dependencies between parts / components
              </ul>

        </section> -->

        <section>
						<h3>Wrap Up</h3>
						<p  style="color: #2aa198">Overview of current (JavaScript) Frontend Architectures</span>
            <ul>
                <li class="fragment">SPAs are just like any rich frontend application
                <li class="fragment">Which framework you use does not matter too much
                <li class="fragment">All make you compose your application from components
                <li class="fragment">Composing your Application into Smart and Dumb Components
                <li class="fragment">Redux as Data Layer
                  <ul>
                      <li>for large applications with many dependencies between parts / components
                      <li>provides architectural guidance where which part of the application goes
                  </ul>
                </li>
              </ul>
            <p>
                <small>
            <a href="http://zeigermann.eu">Oliver Zeigermann</a> / <a href="http://twitter.com/djcordhose">@DJCordhose</a>
                <br>
        <a href="http://bit.ly/topconf-js">
            http://bit.ly/topconf-js</a>
        </small>
            </p>
        </section>
    </div>

  </div>

  <script src="reveal.js/lib/js/head.min.js "></script>
  <script src="reveal.js/js/reveal.js "></script>
  <script src="lib/jquery-2.2.4.js "></script>
  <script>
    // $('.weg').remove();
    // uncomment for jax
    $('.jax').remove();
    if (window.location.hostname.indexOf('localhost') !== -1) {
    } else {
      // only applies to public version
      $('.preparation').remove();
      $('.todo').remove();
      $('.local').remove();
      $('.presenter').remove();

    }
    Reveal.addEventListener('ready', function (event) {
        // do we want this???
        $('li').addClass('fragment')

        // make all links open in new tab
        $('a').attr('target', '_blank')

      if (window.location.hostname.indexOf('localhost') !== -1) {
        // only applies to presentation version
        Reveal.configure({ controls: false });
      } else {
        // only applies to public version
        $('.fragment').removeClass('fragment');
      }
      // applies to all versions
      $('code').addClass('line-numbers');
    });
    // $('section').attr('data-background-image', "backgrounds/light-metal.jpg ");
    // $('section').attr('data-background-image', "backgrounds/pink.jpg ");
    $('section').attr('data-background-image', "backgrounds/white.jpg ");
//    $('section').attr('data-background-image', "backgrounds/code.jpg ");
  </script>

  <script>

    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
      controls: true,
      progress: true,
      history: true,
      center: true,
      width: 1100,

      transition: 'slide', // none/fade/slide/convex/concave/zoom

      // Optional reveal.js plugins
      dependencies: [
        {
          src: 'reveal.js/lib/js/classList.js', condition: function () {
            return !document.body.classList;
          }
        },
        {
          src: 'reveal.js/plugin/markdown/marked.js', condition: function () {
            return !!document.querySelector('[data-markdown]');
          }
        },
        {
          src: 'reveal.js/plugin/markdown/markdown.js', condition: function () {
            return !!document.querySelector('[data-markdown]');
          }
        },
        {
          src: 'reveal.js/plugin/highlight/highlight.js', async: true, condition: function () {
            return !!document.querySelector('pre code');
          }, callback: function () {
            hljs.initHighlightingOnLoad();
          }
        },
        { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true },
        { src: 'reveal.js/plugin/notes/notes.js', async: true },
        { src: 'lib/js/line-numbers.js' }
      ]
    });

  </script>

</body>

</html>