<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Frontend-Architektur</title>

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="reveal.js/css/reveal.css">
    <!--<link rel="stylesheet" href="reveal.js/css/theme/white.css" id="theme">-->
    <!--<link rel="stylesheet" href="reveal.js/css/theme/black.css" id="theme">-->
    <!--<link rel="stylesheet" href="reveal.js/css/theme/night.css" id="theme">-->
    <!--<link rel="stylesheet" href="reveal.js/css/theme/simple.css" id="theme">-->
    <link rel="stylesheet" href="reveal.js/css/theme/solarized.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">
    <style>
        /*pre code {*/
            /*display: block;*/
            /*padding: 0.5em;*/
            /*background: #FFFFFF !important;*/
            /*color: #000000 !important;*/
        /*}*/

        .right-img {
            margin-left: 10px !important;
            float: right;
            height: 500px;
        }
        .todo:before {
            content: 'TODO: ';
        }
        .todo {
            color: red !important;
        }
        code span.line-number {
            color: lightcoral;
        }
        .reveal pre code {
            max-height: 1000px !important;
        }

        img {
            border: 0 !important;
            box-shadow:0 0 0 0 !important;
        }

        .reveal {
            -ms-touch-action: auto !important;
            touch-action: auto !important;
				}

				.reveal h2,
				.reveal h3 {
					letter-spacing: 2px;
				}

				.reveal h2 {
				font-family: 'Amiri', serif;
				/* font-family: 'Times New Roman', Times, serif; */
				font-weight: bold;
				font-style: italic;
				letter-spacing: -2px;
				text-transform: none !important;
			}

			.reveal em {
				font-weight: bold;
			}

				.reveal .step-subtitle h1 {
					letter-spacing: 1px;
				}
				.reveal .step-subtitle h2,
				.reveal .step-subtitle h3 {
					text-transform: none;
					font-style: italic;
					font-weight: normal;
					/* font-weight: 400; */
					/* font-family: 'Amiri', serif; */
					font-family: 'Lobster', serif;
					letter-spacing: 1px;
					color: #2aa198;
					text-decoration: underline;
				}

				.reveal .front-page h1,
				.reveal .front-page h2 {
					font-family: "League Gothic";
					font-style: normal;
					text-transform: uppercase !important;
					letter-spacing: 1px;
				}

				.reveal .front-page h1 {
					font-size: 2.5em !important;
				}

				.reveal .highlight {
					background-color: #D3337B;
					color: white;
				}

				.reveal img.with-border {
					border: 1px solid #586e75 !important;
					box-shadow: 3px 3px 1px rgba(0, 0, 0, 0.15) !important;
				}

				.reveal li {
					margin-bottom: 8px;
				}

				/* For li's that use FontAwesome icons as bullet-point */
			.reveal ul.fa-ul li {
				list-style-type: none;
			}
    </style>

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
    <script src="reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

<!--
√úberblick √ºber moderne (JavaScript-)Frontend-Architektur


90 Minuten

-->

<div class="reveal">
    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">

        <section class="todo">
<pre>
http://www.oop-konferenz.de/oop2018/programm/konferenzprogramm/sessiondetails/action/detail/session/do-11-2/title/was-macht-moderne-javascript-frontend-architektur-so-schwierig.html

Strecken auf 90 Minuten
- Demo am Anfang wie bei Java Form Nord
- Grafiken von Nils aus Javazone √ºbernehmen
- Neuer Schwerpunkt: Integration Patterns f√ºr mehrere SPAs
  - F√ºr den Schwerpunkt:
    embarc/Ans√§tze.jpg
    embarc/Vergleich.jpg
</pre>
        </section>

        <section data-markdown class="preparation">
            <script type="text/template">
### Vorbereitung

Komplex SPA

- cd ~/Development/js/react-workshop
- npm install
- npm start
- cd code/schritte/router-v4
- npm start
- Checken, dass localhost:8080 im Browser l√§uft

Universal

- cd code/universal
- npm install
- npm start
- Checken, dass localhost:3000 im Browser l√§uft
            </script>
        </section>

        <section>
            <h2>√úberblick √ºber moderne (JavaScript-)Frontend-Architektur</h2>
            <h3><a href="https://www.herbstcampus.de/veranstaltung-5928-%C3%9Cberblick-%C3%BCber-moderne-%28javascript-%29frontend-architektur.html?id=5928" target="_blank">
                Herbstcampus 2017</a></h3>
            <p>
                <a href="http://zeigermann.eu">Oliver Zeigermann</a> / <a href="http://twitter.com/djcordhose">@DJCordhose</a>
            </p>
            <p><small>Folien: <a href="http://bit.ly/architektur-herbstcampus">
                http://bit.ly/architektur-herbstcampus</a></small></p>
        </section>

        <section>
            <img src="internet-is-for-end-users.png">

            <p><small><a href="https://twitter.com/igrigorik" target="_blank">
                @igrigorik
            </a>: <a href="https://twitter.com/igrigorik/status/891901115045785600" target="_blank">
                https://twitter.com/igrigorik/status/891901115045785600
            </a></small></p>
        </section>

        <section>
            <h2>Grundproblem bei einer komplexen Web-Anwendung</h2>
            <h3>Beste UI/UX bei√üt sich mit Anforderungen an Wartbarkeit</h3>
        </section>



        <section>
            <h2>Was macht Frontend-Architektur schwierig?</h2>
            <h3 class="fragment">Das "Problem" ist der <em>Benutzer!</em></h3>

            <ul>
                <li class="fragment">alles soll wirken wie aus einem Guss
                    <ul>
                        <li>einheitliches Layout (UI)
                        <li>einheitliches Bedienkonzept (UX)
                    </ul>
                </li>
                <li class="fragment">reaktionsschnelles UI, auch unter Last
                <li class="fragment">Anzeige soll jederzeit √ºber alle Komponenten konsistent sein
                <li class="fragment">alles von Anfang an da, ohne Verz√∂gerung
            </ul>
            <!--<p class="fragment"><small>Oder man nimmt auf den Benutzer keine R√ºcksicht wenn es das Gesch√§ftsmodell zul√§sst</small></p>-->
        </section>

        <section>
            <h2>Wo ist das Problem? Das ist doch einfach oder?</h2>
            <h3 class="fragment">Prominente Gegenbeispiele</h3>
            <ul>
                <li class="fragment">Facebook, LinkedIn, XING: Alle k√§mpfen mit uneinheitlichem Anzeigestand
                <!--Add screenshot from LinkedIn-->
                <li class="fragment">Gmail: Ladebalken am Anfang, langsamere erste Page Impression
                <li class="fragment">Amazon: uneinheitliches Layout und Bedienkonzept
                <li class="fragment">Viele seiten von Beh√∂rden/√Ñmtern/Gro√ükonzernen etc.: z√§hes UI, validieren der Eingaben erst nach Submit
            </ul>
        </section>

        <section>
            <h2>Sind die alle unf√§hig?</h2>
            <p class="fragment">Oder liegt das eher an Konflikten mit anderen typischen Anforderungen?</p>
            <p class="fragment">Nat√ºrlich soll das alles auch</p>
            <ul>
                <li class="fragment">schnell und kosteng√ºnstig entwickelt werden
                <li class="fragment">√ºber Jahrzehnte wartbar sein
                <li class="fragment">als Komponenten oder Teilprojekte entwickelbar sein
                <li class="fragment">eine einheitliche Architektur haben
                <li class="fragment">zum Skillset der vorhandenen Entwickler passen
            </ul>
        </section>

        <!--<section>-->
            <!--<h2>Typische Szenarien</h2>-->
            <!--<p>Das gucken wir uns heute an</p>-->
            <!--<ul>-->
                <!--<li class="fragment"><strong>Was alle wissen wollen</strong>: Microservices im Backend (Monolithischer Client vs Vertikalen)-->
                <!--<li class="fragment"><strong>Das Geheimnis der Single-Page Apps</strong>: Komplexes Zusammenspiel von Komponenten (State Management, Wartbarkeit)-->
                <!--<li class="fragment"><strong>Quadratur des Kreises</strong>: Schnelle erste Anzeige bei gleichzeitig hoher Interaktivit√§t (Universal Rendering)-->
                <!--<li class="fragment"><strong>Uncool, aber h√§ufig Hauptbestandteil der Anwendung</strong>: Effiziente, aber funktionale Formulare (Redux-Form)-->
            <!--</ul>-->
        <!--</section>-->

        <section>
            <h3>Klassiche Webanwendung</h3>
            <p><small>jeder Boot tut gut, jeder Roundtrip setzt Zustand zur√ºck</small></p>

            <img src="embarc/KlassischeWebAnwendung.png" style="height: 450px;">
            <p><small>Copyright 2016, embarc</small></p>
        </section>

        <section>
            <h2>Klassichen Webanwendungen</h2>
            <ul class="fragment">
                <li>Browser sendet HTTP-Request und empf√§ngt HTML
                <li>Content wird auf der Server-Seite gerendert
                <li>Jede Interaktion wiederholt diesen Zyklus
            </ul>
        </section>

        <section>
            <h2>Klassische Webanwendung: Oft ein nahe liegender Ansatz</h2>
            <ul class="fragment">
                <li>Klassische Webanwendung sind f√ºr viele Enterprise-Entwicklungen der nat√ºrliche Ausgangspunkt
                <li>Server-Seitige Entwicklung mit Java/C# und HTTP und HTML sind gut verstanden
                <li>kleinere UI-√Ñnderungen k√∂nnen auf Client-Seite mit JavaScript-Schnippseln (jQuery) realisiert werden
                <li>h√§ufig ist dies v√∂llig ausreichend
            </ul>
        </section>

        <section>
            <h2>Grenzen</h2>
            <ul class="fragment">
                <li>UI/UX ist gruns√§tzlich eingeschr√§nkt
                <li>selbst in vermeintlich klassischen Anwendungen verstecken sich SPAs oft als Teile
                <li>z.B. JSF Komponenten mit einem komplexen UI
                <li>Vermischung von client- und serverseitigem Rendering macht Anwendungsarchitektur und Programmiermodell abenteuerlich
            </ul>
            <p class="fragment"><em>Perfide, da zuerst die Aufw√§nde zur Umsetzung ansteigen und der Code immer un√ºbersichtlicher wird.</em></p>
        </section>

        <section>
            <h3>Was geht nicht mehr als Klassische Web Anwendung</h3>
            <h4>Ein Beispiel</h4>
                <div>
                    <a href="http://localhost:8080/" target="_blank">
                        <img src="greeting-app-complex.png" style="height: 500px;">
                    </a>
                </div>
            <p><small>Gar nicht mal so komplex...</small></p>
        </section>

        <section>
            <h3>N√§chster Schritt</h3>
            <h2>Single-Page Application</h2>
        </section>

        <section>
            <h3>√úberblick: Single-Page Application</h3>
            <img src="embarc/SP-Anwendung.png" style="height: 500px;">
            <p><small>Copyright 2016, embarc</small></p>
        </section>
        <section>
            <h3>Single-Page Applications (SPAs) verschieben eure Anwendung in den Browser</h3>
            <ul class="fragment">
                <li>eine einzige Seite pro Anwendung/Modul
                <li>l√§uft ohne signifikanten Server-Anteil
                <li>kann auch als statische Web-Seite laufen
                <li>erm√∂glicht Offline-Betrieb
                <li>Bedienbarkeit wie Desktop
                <li>Browser bietet m√§chtige Speicherungsm√∂glichkeiten
            </ul>
        </section>

        <section>
            <h3>Komponenten basierte Ans√§tze mit Templates</h3>
            <ul class="fragment">
                <li>Templates nun auf der Clientseite
                <li>Anwendung bekommt Struktur
                <li>Logik h√§ngt an Komponenten, ist keine lose Schnippsel-Sammlung wie bei jQuery
            </ul>
            <p class="fragment">Findet sich wieder in React, Angular, Vue und Web Components</p>
        </section>

        <section>
            <h1>Smart and Dumb Components</h1>
            <h2>Klares Architektur Pattern</h2>
            <h3>Hei√üt auch <em>Mediator Pattern</em> bei Web Components / Polymer</h3>
        </section>

        <section>
            <h3>Smart Components</h3>
            <ul>
                <li>Verwalten Teilzustand der Anwendung
                <li>Reichen Teile des Zustands als unver√§nderliche Daten an Unterkomponente weiter
                <li>Enthalten UI Logik, die sie als Callbacks an ihre Unterkomponenten weiter geben k√∂nnen
                <li>Meist spezifisch f√ºr eine Dom√§ne
                <li>Nicht au√üerhalb der Dom√§ne wiederverwendbar
            </ul>
        </section>

        <section>
            <h3>Dumb Components</h3>
            <ul>
                <li>Managen h√∂chstens transienten State
                <li>enthalten keine Logik
                <li>Unterkomponente sind meist selbst nur Dumb Components (es gibt
                    <a target="_blank" href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0#.z8xy5zvhs">
                        Ausnahmen</a>)
                <li>haben kein Wissen oder Abh√§ngigkeit zu Oberkomponenten
                <li>wiederverwendbar
            </ul>
        </section>

        <section>
            <img src="smart-dumb-properties.png">
            <p><small>
                Copyright 2017, Nils Hartmann
            </small></p>
        </section>

                <section>
            <h2>Code Sample Angular</h2>
                    <a href="code/spa/public/index.html" target="_blank">
                        <img src="spa.png">
                    </a>

                </section>

        <section>
            <h2>Smart Component</h2>
            <pre><code data-trim>
@Component({
  template: `&lt;sub greeting={{greeting}} (onSend)="sent($event)"></sub>`
})
export class AppComponent {
  // component state
  private greeting: string = 'Hiho';

  constructor(private greetingService: GreetingService) {
  }

  // "Business Logic" delegated to service
  sent(greeting) {
    this.greeting = this.greetingService.greetBack(greeting);
  }
}
            </code></pre>
        </section>

        <section>
            <h2>Dumb Component</h2>
            <pre><code data-trim>
@Component({
  selector: 'sub',
  template: `
<input [(ngModel)]="greeting">
<p>{{greeting}}, World</p>
<button (click)="send()">Send</button>
`,
})
export class SubComponent {
  @Input() greeting: string;

   // rxjs observer
  @Output() onSend = new EventEmitter();

  // no business logic, just event emitting
  send() {
    this.onSend.emit(this.greeting);
  }
}
            </code></pre>
        </section>

        <section>
            <h3>Grenzen</h3>
            <p class="fragment"><em>Besonders bei wachsenden und langlebigen Anwendungen</em></p>
            <ul class="fragment">
                <li>Tendenz zu "Gottkomponenten": Zustand und Logik wandern langsam nach oben in eine einzige Komponente
                <li>Vermischung von Framework und UI-Logik (erschwert Austausch das Frameworks)
                <li>Verteilter, ver√§nderlicher Zustand erschwert Wartbarkeit
                    <ul>
                        <li>Zustand oft nicht klar zuzuordnen</li>
                        <li>In welchem Zustand ist die Anwendung?
                    </ul>
                </li>
                <li>Architektur immer noch unklar
                    <ul>
                        <li>Wo ist Nebenl√§ufigkeit erlaubt?
                        <li>Wie l√§uft die Initialisierungsphase
                        <li>Wie testet man die Business Logik?
                    </ul>
                </li>
            </ul>
        </section>

        <!--<section>-->
            <!--<a href="https://youtu.be/I7IdS-PbEgI" target="_blank"><img style="height: 600px" src="alan_kay.jpg"></a>-->
            <!--<p><small><a href="https://facebook.github.io/immutable-js/" target="_blank">-->
                <!--https://facebook.github.io/immutable-js/-->
            <!--</a></small></p>-->
        <!--</section>-->

        <section>
            <h3>N√§chster Schritt</h3>
            <h2>Redux als Architektur-Muster</h2>
        </section>

        <section>
            <h1>Redux</h1>
            <h2>Zustand wird zentral gehalten, UI-Logik geht aus den Komponenten</h2>
            <h3>Selbst kein Framework, sondern nur ein Muster (wie z.B. MVC)</h3>
        </section>

        <section>
            <h2>Redux ist unabh√§ngig vom Framework</h2>
            <p>Implementierungen existieren f√ºr alle wichtigen UI-Frameworks</p>
            <ul>
                <li>React: <a href="http://redux.js.org/docs/basics/UsageWithReact.html" target="_blank">
                    http://redux.js.org/docs/basics/UsageWithReact.html
                </a>
                <li>Angular: <a href="https://github.com/ngrx/store" target="_blank">https://github.com/ngrx/store</a></li>
                <li>Vue:
                    <a href="https://github.com/vuejs/vuex" target="_blank">https://github.com/vuejs/vuex</a> /

                    <a href="https://github.com/revue/revue" target="_blank">https://github.com/revue/revue</a>
                <li>Web Components (Polymer): Empfohlene Implementierung des <em>Global Mediator Pattern</em>,
                <a href="https://twitter.com/DJCordhose/status/899943415353311232" target="_blank">https://twitter.com/DJCordhose/status/899943415353311232</a>
                <a href="https://tur-nr.github.io/polymer-redux/" target="_blank">https://tur-nr.github.io/polymer-redux/</a>
            </ul>
        </section>

        <section>
            <h3>Resultierende Architektur anhand des Redux Musters</h3>
            <img src="redux-03-resulting-redux-architecture.png"  height="600" style="border:0;box-shadow:0 0 0 0"/>
        </section>

        <section>
            <h3>Redux extrahiert Verwantwortlichkeiten aus UI-Framework</h3>
            <img src="redux-02-extracting-responsibility.png" height="550" style="border:0;box-shadow:0 0 0 0"/>
        </section>

        <section>
            <h2>Code Sample: Reducer</h2>
            <h3>Nur eine Funktion, daher unabh√§ngig vom UI Framework</h3>
            <pre class="fragment"><code data-trim data-num-start="1">
type Greeting = {
	greeting: string;
	name: string;
}
            </code></pre>
            <pre class="fragment"><code data-trim data-num-start="5">
type SaveGreetingAction = {
	type: 'ADD_GREETING',
	greeting: Greeting
}
            </code></pre>
            <pre><code data-trim data-num-start="9">
function greetingsReducer(state: Greeting[] = [],
                          action: SaveGreetingAction) {
    switch (action.type) {
        case 'ADD_GREETING':
            // immutable operation, creating new state
            return [...state, action.greeting];
        default:
            return state;
    }
}
            </code></pre>
        </section>

        <section>
            <h2>Code Sample: Action Creator</h2>
            <h3>Ebenso unabh√§ngig vom UI Framework</h3>
            <pre><code data-trim>
async function loadGreetings(dispatch) {
    try {
        const response = await fetch(BACKEND_URL);
        const json = await response.json();
        dispatch({
            type: SET_GREETINGS,
            greetings: json
        });
    } catch (err) {
        console.error('LOADING GREETINGS FAILED:', err)
    }
}
            </code></pre>
            <p>Wieder nur eine Funktion, der einzige Ort an dem asynchrone Operationen erlaubt sind</p>
        </section>

        <section>
            <h3>Ist das nur eine spinnige Idee, oder nutzt das echt jemand?</h3>
            <div class="fragment">
                <a href="https://www.xing.com/messenger" target="_blank">
                <img src="xing-messenger-redux.png">
                </a>
            </div>
        </section>

        <section>
            <h3>Zusammenfassung Redux</h3>
            <ul class="fragment">
                <li>Ein Architektur-Muster f√ºr UIs
                <li>Kontroll-/Datenfluss in eine Richtung
                <li>Zustand wandert aus Smart Components in zentralen State
                <li>UI-Logik wandert aus Smart Components in Action-Creators und Reducer
                <li>Nebenl√§ufigkeit nur in Action-Creators
                <li>State ist zentral und immutable
                <li>Business Logik ausschlie√ülich in puren Funktionen - Reducer (beste Testbarkeit)
                <li>Nur Reducer d√ºrfen State ver√§ndern
                <li>Initialisierung durch initiale Aktion
            </ul>
        </section>

        <section>
            <h2>Grenzen: SPA Ansatz selbst</h2>
        <!--</section>-->

        <!--<section>-->
            <!--<h3>Probleme von Single-Page Applications</h3>-->
            <ul class="fragment">
                <li>SEO
                <li>First-Page-Impressions
                <li>Preview, z.B.
                    <ul>
                        <li>bei der Vorschau von Suchergebnissen
                        <li> oder dem Teilen von Links durch Social Media
                    </ul>

                </li>
                <!--<li>Progressive Enhancement-->
            </ul>
        </section>

        <section>
            <h3>SPA: First-Page-Impression</h3>
            <div>
                <a href="code/spa/public/index.html" target="_blank">
                    <img src="spa-first-page-impression.png" style="height: 500px;">
                </a>
            </div>
            <p><small>Selbst f√ºr eine einfache Web Application kann das Laden und das Aufbauen der Anwendung einige Zeit kosten
                und was vom Sever kommt ist eine leere Seite</small></p>
        </section>

        <section>
            <h2>N√§chster Schritt: Universal Web Apps</h2>
        </section>

        <section>
            <h3>Universal Rendering: First-Page-Impression</h3>
            <div>
                <a href="http://localhost:3001/" target="_blank">
                    <img src="universal-first-page-impression.png" style="height: 500px;">
                </a>
            </div>
        </section>

        <section>
            <h3>Universal Rendering</h3>
            <ul class="fragment">
                <li>First-Page-Impression wird auf dem Server gerendert
                <li>Links werden als normale HTML-Links in die Seite gerendert
                <li>Beliebig viele andere Seiten werden ebenfalls statisch gerendert
                <li>L√§uft dann (zumindest zum Teil) auch ohne JavaScript
                <li>Code fast 100% geteilt zwischen Client und Server
                <li>serverseitiges Rendering mit <a href="https://nodejs.org" target="_blank">https://nodejs.org</a>
                <li>Neben Markup liefert der Browser ebenso Zustand
                <li>Wird von JS-Frameworks React, Angular und Vue unterst√ºtzt
            </ul>
        </section>

        <!--<section>-->
            <!--<h3>Universal Rendering am Beispiel von React</h3>-->
            <!--<div class="fragment">-->
                <!--<img src="universal.png" style="height: 500px;">-->
                <!--<p><small><a target="_blank" href="http://reactbuch.de/">Copyright 2016, D-Punkt, http://reactbuch.de/</a></small></p>-->
            <!--</div>-->
        <!--</section>-->

        <section>
            <a target="_blank"
               href="https://twitter.com/mxstbr/status/776812185276284928">
                <img src="twitter_universal.png">
            </a>
        </section>

        <section>
            <h3>Herausforderungen / Schw√§chen</h3>
            <ul class="fragment">
                <li>Aller Zustand muss beim serverseitigen Rendering komplett vorliegen (oder man rendert statische Platzhalter)
                <li>Falls First Page Impression ung√ºltig: Flackern bei Neurendering im Client
                    <ul>
                        <li>Unterschiedliche Locales auf Server und Client
                        <li>Zeitliche ver√§nderliche Daten (Timestamp, B√∂rsenkurs)
                    </ul>
                </li>
                <li>Auch auf dem Server muss JavaScript laufen (zumindest f√ºr das Rendering Layer)
                <li>Unklar, ob/wie das mit Web Components - besonders Shadow Dom - funktionieren k√∂nnte (headless chrome?,
                <a href="https://twitter.com/DJCordhose/status/900328374601740288" target="_blank">
                    https://twitter.com/DJCordhose/status/900328374601740288</a>)
                <li>Hilft nur bei "Time to first Meaningful Paint", nicht bei "Time to Interactive"
            </ul>
        </section>

        <section>
            <h1>Zusammenfassung</h1>
        </section>

        <section>
            <h3>Was ist mit meiner guten alten Web-Anwendung passiert?</h3>
            <p class="fragment">Ist das nicht alles zu kompliziert?</p>
            <ul>
                <li class="fragment">Klassische, serverseitig gerenderte Anwendungen,
                    sind h√§ufig wirklich einfacher und besser modularisierbar
                <li class="fragment">Hohe Anforderungen an UX und UI sind allerdings nicht mit sinnvollem Aufwand mit klassischen Web-Anwendungen umsetzbar
                <li class="fragment">die Komplexit√§ten einer Single Page App entspringen aus diesen Anforderungen an UX und UI
                <li class="fragment"><strong>Das Grundproblem ist der Widerspruch zwischen ganzheitlicher UX und Aufteilung in Komponenten / Module / Teams</strong>
            </ul>
        </section>

        <section>
            <h2>Bonus Level</h2>
            <h3>Legenden und Mythen</h3>
        </section>

        <section>
            <h2>Wir sammeln</h2>
            <h3>Was f√ºr potentielle(!) Mythen im Bereich Frontend-Architektur kennt ihr?</h3>
            <pre data-trim contenteditable="true">- React ist besser als Angular</pre>
        </section>

        <!--<section>-->
            <!--<h3>Welcher Anforderungen kommen durch das Web hinzu?</h3>-->
            <!--<ul>-->
                <!--<li class="fragment">Wie kann man wartbar JavaScript entwickeln?-->
                <!--<li class="fragment">Wie geht man mit der schnellen Entwicklung der Web-Frameworks um?-->
                <!--<li class="fragment">JavaScript im Browser, aber meist nicht auch auf dem Server - -->
                    <!--wie bekommt man damit eine einheitliche Architektur hin?-->
            <!--</ul>-->
        <!--</section>-->

        <section>
            <h3>Legenden und Mythen #1: Single Page Applications (SPA)</h3>
            <ul>
                <li class="fragment"><strong>In SPAs kann ich keine Links teilen und auch nicht sinnvoll verlinken: </strong>
                    <span class="fragment">Link wird im Browser aufgel√∂st und geroutet</span>
                <li class="fragment"><strong>Back-Button geht nicht: </strong><span class="fragment">siehe oben</span>
                <li class="fragment"><strong>SPA hat immer eine schlechte First Page Impression: </strong><span class="fragment">Universal App oder Code-Splitting hilft</span>
                <span class="fragment">, Web Components brauchen nicht einmal Framework => weniger Code</span>
                <span class="fragment">, Service Workers und HTTP/2 Server Push</span>
                <li class="fragment"><strong>SPA ist unstrukturierter Monolith: </strong>
                <span class="fragment">Trennung, Isolation in Module und Teams ist mit gezeigten Ans√§tzen m√∂glich</span>
                <li class="fragment"><strong>HTML/HTTP sind langlebig, Investition in SPA-Frameworks nicht lohnend, veraltet innerhalb einer Woche: </strong>
                <span class="fragment">Business relevante Teile au√üerhalb des SPA-Webframeworks</span>
            </ul>
        </section>

        <section>
            <h3>Legenden und Mythen #2: JavaScript</h3>
            <p class="fragment">Ist JavaScript-Code nicht unwartbar?</p>
            <ul>
                <li class="fragment"><strong>keine Lesbarkeit: </strong><span class="fragment">moderner JavaScript-Code ist auf Python-Niveau, JSDoc ist Standard</span>
                <li class="fragment"><strong>keine Analysierbarkeit: </strong><span class="fragment">
                wird durch zus√§tzliche m√§chtige Typensysteme TypeScript oder Flow erlaubt</span>
                <li class="fragment"><strong>kein Refactoring: </strong><span class="fragment">folgt aus Analysierbarkeit</span>
                <li class="fragment"><strong>keine Testbarkeit: </strong><span class="fragment">gezeigte Ans√§tze erlauben allerbeste Testbarkeit aller Teile</span>
                <li class="fragment"><strong>keine Wiederverwendung: </strong><span class="fragment">
                Dumb Componentes jederzeit wiederverwendbar, bei Smart Components nicht sinnvoll</span>
                <li class="fragment"><strong>keine M√∂glichkeit zur Strukturieren: </strong>
                <span class="fragment">Das moderne JavaScript Modul-System ist m√§chtig
                    und erlaubt Strukturierung wie in Java</span>
            </ul>
        </section>

        <section>
            <h3>Legenden und Mythen #3: Integration mit Microservices geht nicht mit Client Side Redering</h3>
            <ul>
                <li class="fragment">Integration im Browser in eine Anwendung
                    <ul>
                        <li>Anwendung ist in logische Module aufgeteilt, die als ganze Anwendung zusammen laufen
                        <li>Pro Seite eine SPA, kann Komponenten aus andern Modulen integrieten
                            <!--<li>Nachladen von Modulen on-demand aus einem Build problemlos m√∂glich-->
                        <li>"Echt" getrennte Anwendung √ºber iFrame und EventBus
                    </ul>
                </li>
                <li class="fragment">Integration mehrerer Anwendungen √ºber Links, die eine neue Anwendung √∂ffnen und die alte ersetzen
                    <ul>
                        <li>jedes Modul ist eine eigene SPA Anwendung
                        <li>erlaubt Vertikalen wie eine klassische Web-App
                        <li>Allerdings: Modul-Wechsel setzt Zustand zur√ºck wenn nicht explizit √ºbertragen
                    </ul>
                </li>
            </ul>
        </section>

        <section class="todo">
- √ºbersetzen auf deutsch mit den Legenden und Mythen #3 zusammenfassen und dann als Teil nach Universal
        </section>
                <section class="step-subtitle">
					<h2>Next Step</h2>
					<h1>Modularizing</h1>

				</section>
				<section>
						<h3>Modular development</h3>
						<h2>Integration at build time</h2>
						<ul>
								<li>Split parts of the application into own npm modules</li>
								<li>Different teams can provide npm modules</li>
								<li>Other teams can consume the modules</li>
								<li>Modules can be lazy-loaded at runtime to increase performance</li>
					</ul>
			</section>

			<section>
					<h3>Modular development</h3>
					<h2>Integration in the browser</h2>
            <ul>
                <li>Teams can build their own components matching their business needs
									<li>Can be embedded via an iframe into another application</li>
									<li>therefore they need to "real" apps (but probably small ones)</li>
									<li>State/communication between apps by using a global EventBus</li>
						</ul>
					</section>

					<section>
							<h3>Modular development</h3>
							<h2>Independent applications</h2>
              <ul>
									<li>Can be used for (strictly) separated parts of the app (e.g. user settings)</li>
									<li>one team can build a whole app containing backend and frontend</li>
									<li>an app can match a Microservice at the backend (but don't have to; can talk to multiple Microservices)</li></p>
									<li>Link opens a new, own SPA (Microapps üòú)</li>
									<li>State is not shared between apps</li>
								</ul>
				</section>

				<section>
						<h3 style="font-size: 1em; line-height:0">Wrap up</h3>
					<h3>Modular development</h3>
					<ul>
						<li>Integration at <span class="highlight">build</span> time
							<ul>
								<li>New build of the consumer is required for each new version of a module</li>
								<li><span class="highlight">"Real" SPAs</span> including all their advantages (components, state manangement, universal rendering)</li>
							</ul>
							<li>Integration in the <span class="highlight">browser</span>
								<ul><li>
										Higher decoupling (team can independently release their apps)</ul>
									</li>
									<li>Integration harder, as you deal with a lot of <span class="highlight">"small" SPAs</span> </li>
									</li>
							</li>
					</ul>
					<p style="color: #2aa198">Remember: it's all about the User (Experience!):
					<br/>It should feel as <span class="highlight">one</span> app!</p>

				</section>




        <section>
            <h3>The Doctor is In</h3>
            <small>
            <table>
                <tr>
                    <th></th><th>Architektur</th><th>Mythos</th><th>UI / UX</th>
                </tr>
                <tr>
                    <th>20</th>
                    <td>Muss man f√ºr SPAs und Universal Apps JavaScript programmieren?</td>
                    <td>Warum soll man √ºberhaupt JavaScript machen?
                    </td>
                    <td>Geht das nicht alles auch mit CSS?
                    </td>
                </tr>
                <tr>
                    <th>40</th>
                    <td>Sollte ich nicht jede SPA als Universal App schreiben?
                    </td>
                    <td>Widersprechen SPAs nicht der Grundidee es Webs?</td>
                    <td>Wie realisiert man komplexe UI-Komponenten (ala TreeGrid)?
                    </td>
                </tr>
                <tr>
                    <th>60</th>

                    <td><b>Risiko: Frage eurer Wahl</b></td>
                    <td><b>Risiko: Frage eurer Wahl</b></td>
                    <td><b>Risiko: Frage eurer Wahl</b></td>
                </tr>
                <tr>
                    <th>80</th>
                    <td>Wieso funktioniert f√ºr SPAs kein Schichtenmodell?
                    </td>
                    <td>Wie schneide ich Module in einer SPA? Geht das mit DDD Aggregate Root?
                    </td>
                    <td>Wann passt eine klassische WebApp besser als eine SPA?
                    </td>
                </tr>
                <tr>
                    <th>100</th>
                    <td>Was kann man retten, wenn man das UI-Framework wechselt?</td>
                    <td>Was ist denn eigentlich mit Progressive Web Apps (PWA)?</td>
                    <td>Muss ich immer w√§hlen zwischen Frontend-Monolithen oder UX Katastrophe?</td>
                </tr>
            </table></small>
            <p><small>
                <a href="http://zeigermann.eu">Oliver Zeigermann</a> / <a href="http://twitter.com/djcordhose">@DJCordhose</a>,
                <a href="http://bit.ly/architektur-herbstcampus">
                http://bit.ly/architektur-herbstcampus</a></small></p>
        </section>

    </div>

</div>

<script src="reveal.js/lib/js/head.min.js"></script>
<script src="reveal.js/js/reveal.js"></script>
<script src="lib/jquery-2.2.4.js"></script>
<script>
    if (window.location.hostname.indexOf('localhost') !== -1) {
    } else {
        // only applies to public version
        $('.preparation').remove();
    }
    Reveal.addEventListener( 'ready', function( event ) {
        if (window.location.hostname.indexOf('localhost') !== -1) {
            // only applies to presentation version
            Reveal.configure({ controls: false });
        } else {
            // only applies to public version
            $('.fragment').removeClass('fragment');
        }
        // applies to all versions
        $('code').addClass('line-numbers');
    } );
    $('section').attr('data-background-image', "backgrounds/light-metal.jpg");
//    $('section').attr('data-background-image', "backgrounds/code.jpg");
</script>


<script>

    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
            {
                src: 'reveal.js/lib/js/classList.js', condition: function () {
                return !document.body.classList;
            }
            },
            {
                src: 'reveal.js/plugin/markdown/marked.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'reveal.js/plugin/markdown/markdown.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'reveal.js/plugin/highlight/highlight.js', async: true, condition: function () {
                return !!document.querySelector('pre code');
            }, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            },
            {src: 'reveal.js/plugin/zoom-js/zoom.js', async: true},
            {src: 'reveal.js/plugin/notes/notes.js', async: true},
            {src: 'lib/js/line-numbers.js'}
        ]
    });

</script>

</body>
</html>
