<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">

  <title>Frontend Architectures</title>

  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

  <link rel="stylesheet" href="reveal.js/css/reveal.css">
  <!--<link rel="stylesheet" href="reveal.js/css/theme/white.css" id="theme">-->
  <!--<link rel="stylesheet" href="reveal.js/css/theme/black.css" id="theme">-->
  <!--<link rel="stylesheet" href="reveal.js/css/theme/night.css" id="theme">-->
  <!--<link rel="stylesheet" href="reveal.js/css/theme/simple.css" id="theme">-->
  <link rel="stylesheet" href="reveal.js/css/theme/solarized.css" id="theme">

  <!-- Code syntax highlighting -->
  <link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">
  <style>
    /*pre code {*/

    /*display: block;*/

    /*padding: 0.5em;*/

    /*background: #FFFFFF !important;*/

    /*color: #000000 !important;*/

    /*}*/

    .right-img {
      margin-left: 10px !important;
      float: right;
      height: 500px;
    }

    .weg:before {
      content: 'Streichen?';
    }

    .weg {
      color: red !important;
    }

    .presenter h1 {
      color: rgb(255, 0, 234) !important;
    }

    .todo:before {
      content: 'TODO: ';
    }

    .todo {
      color: red !important;
    }

    code span.line-number {
      color: lightcoral;
    }

    .reveal pre code {
      max-height: 1000px !important;
    }

    img {
      border: 0 !important;
      box-shadow: 0 0 0 0 !important;
    }

    .reveal {
      -ms-touch-action: auto !important;
      touch-action: auto !important;
    }

    .reveal h2,
    .reveal h3,
    .reveal h4 {
      letter-spacing: 2px;
                        font-family: 'Calibri', sans-serif;
                          /* font-family: 'Times New Roman', Times, serif; */
                          font-weight: bold;
                          color: black;
                          font-style: italic;
                          letter-spacing: -2px;
                          text-transform: none !important;
    }
`
    .reveal em {
      font-weight: bold;
    }

    .reveal .step-subtitle h1 {
      letter-spacing: 1px;
    }

    .reveal .step-subtitle h2,
    .reveal .step-subtitle h3 {
      text-transform: none;

      font-weight: normal;
      /* font-weight: 400; */
      /* font-family: 'Amiri', serif; */
      font-family: 'Lobster', serif;
      letter-spacing: 1px;
      color: #2aa198;
      /* text-decoration: underline; */
    }

    .reveal .step-subtitle h3 {
      text-decoration: underline;
      font-style: normal
    }

    /* .reveal .step-subtitle h2 {
      font-style: italic;
    } */

    .reveal .front-page h1,
    .reveal .front-page h2 {
      font-family: "League Gothic";
      font-style: normal;
      text-transform: uppercase !important;
      letter-spacing: 1px;
    }

    .reveal .front-page h1 {
      font-size: 2.5em !important;
    }

    .reveal .highlight {
      /* #D3337B;*/
      color: #268bd2;
    }

    .reveal section img {
      background: none;
    }

    .reveal img.with-border {
      border: 1px solid #586e75 !important;
      box-shadow: 3px 3px 1px rgba(0, 0, 0, 0.15) !important;
    }

    .reveal li {
      margin-bottom: 8px;
    }

    /* For li's that use FontAwesome icons as bullet-point */

    .reveal ul.fa-ul li {
      list-style-type: none;
    }

    .reveal {
      color: black !important;
    }       

  </style>

  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match(/print-pdf/gi) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
    document.getElementsByTagName('head')[0].appendChild(link);
  </script>

  <!--[if lt IE 9]>
    <script src="reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

  <div class="reveal">
    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">


<!-- <section data-markdown class="todo">
  <textarea data-template>

Dan Abramov (@dan_abramov) tweeted at 10:28 PM on Tue, Jul 24, 2018:
When you write <div><Foo /></div> it's exactly how it works üôÇ. You're "passing" <Foo /> to div. So <Nav><Foo /></Nav> is just as fine. And that's exact same thing as <Nav children={<Foo />} /> so yes, you can have custom ones. It's in our docs: https://t.co/R7x6hzjGJj
(https://twitter.com/dan_abramov/status/1021854688008982528?s=03)
</textarea>
</section>

<section data-markdown class="todo">
  <textarea data-template>
Dan Abramov (@dan_abramov) tweeted at 10:11 PM on Tue, Jul 24, 2018:
I think this is one of the biggest misunderstandings about React. It would be great to highlight this pattern more. Note how by making <Nav> and <Body> accept any elements as children, I removed the need to pass the "user" prop down through them. https://t.co/IlBecFn8Ao
(https://twitter.com/dan_abramov/status/1021850499618955272?s=03)

  </textarea>
</section>

      <section data-markdown class="todo">
          <textarea data-template>
  ### most scalable file structure
  
  https://twitter.com/dan_abramov/status/1027245759232651270
        </textarea>
    </section>
  
  

  <section data-markdown class="todo">
          <textarea data-template>
Dan Abramov (@dan_abramov) tweeted at 5:13 PM on Fri, Aug 03, 2018:
Here‚Äôs another way to phrase it. Redux (the library) itself is very unsophisticated. It's pretty much this:

dispatch(action) {
  state = reducer(state, action);
  subscribers.forEach(s => s());
}

The concepts are great, but wouldn‚Äôt it be better if the core was less na√Øve?
(https://twitter.com/dan_abramov/status/1025399231576727555?s=03)
</textarea>
</section>

<section data-markdown class="todo">
  <textarea data-template>
### New React Context vs Redux

This a very comprehensive comparsion of two great tools, #ReactJS Context and #Redux with a nuanced and unobtrusive conclusion that is valid for almost all libX-vs-libY discussions. Thank you so much @dceddia for writing! üëç https://t.co/tenlvKTOPQ
(https://twitter.com/nilshartmann/status/1021851945504591874?s=03)

https://auth0.com/blog/react-context-api-managing-state-with-ease/
</textarea>
</section>

<section data-markdown class="todo">
  <textarea data-template>

    Jonas Bandi (@jbandi) tweeted at 10:30 AM on Fri, Sep 14, 2018:
    There are two perspectives how to look at #TypeScript:
    - TypeScript is a la language that compiles to JavaScript
    - TypeScript is a tool that enhances JavaScript with an optional static type system
    
    I prefer the second perspective.
    (https://twitter.com/jbandi/status/1040518056051654659?s=03)
  </textarea>
</section>


      <section>
        <h2>Wir nehmen Frontend-Architektur nicht f√ºr voll</h2>
        <p>Zitate</p>
        <ul>
          <li class="fragment">
            <em>Frontend-Architektur: Ich dachte sowas gibt es gar nicht</em>
          </li>
          <li class="fragment">
            <em>Das Frontend kloppen wir am Ende einfach irgendwie drauf</em>
          </li>
          <li class="fragment">
            <em>Architektur f√ºr ein bisschen CSS-Pixel-Geschubse?</em>
          </li>
        </ul>
      </section>
 -->
              <!-- <section data-markdown>
          <textarea data-template>
### Konsistente UI ist gekoppelt

<img src='dan_soc.png'>

<small>
https://twitter.com/dan_abramov/status/1008131488481730561
</small>
              </textarea>
        </section> -->


      <!-- <section data-markdown class="todo">
        <textarea data-template>
### New React Context vs Redux

This a very comprehensive comparsion of two great tools, #ReactJS Context and #Redux with a nuanced and unobtrusive conclusion that is valid for almost all libX-vs-libY discussions. Thank you so much @dceddia for writing! üëç https://t.co/tenlvKTOPQ
(https://twitter.com/nilshartmann/status/1021851945504591874?s=03)
</textarea>
</section>

<section data-markdown class="todo">
    <textarea data-template>
### Do we need a framework, would Web Components do?

https://twitter.com/mislav/status/1022058279000842240
</textarea>
</section> -->

     <!-- <section data-markdown class="todo">
        <textarea data-template>
### React and TypeScript

* https://twitter.com/NaveenS16/status/1023433663873048577

* https://github.com/sw-yx/react-typescript-cheatsheet
</textarea>
</section> -->

<!-- <section data-markdown class="todo">
    <textarea data-template>
### Nils  

bei mir zieht ja das "standard" argument nicht, ich finde, wenn irgendwas mindestens "quasi-standard" bzw einigerma√üen
etabliert ist, kommt es f√ºr den Einsatz in Frage (gleiche Diskussion jee oder spring mE).

Demnach w√§re bei mir nicht nur WebComponents in der Verlosung, sondern eben auch Angular, Vue, React etc pp. Und dann
w√ºrde ich √ºberlegen, wie ich eigentlich Anwendungen bauen will, welche Features sind mir wichtig, wo gefallen mir API,
Doku, Tooling etc. Das w√ºrde ich dann nehmen.

Und ich pers√∂nlich finde, dass die WebComponents auf dem falschen "Level" abstrahieren bzw nicht gen√ºgend Features
bieten (state handling etc). Das alles finde ich in react viel viel besser (vermutlich auch in Angular/Vue) und w√ºrde
deswegen WCs nicht verwenden
Ich finde Custom Elements sch√∂n und gut, aber die Art+Weise wie ich die entwickeln m√ºsste, w√ºrde mir nicht gefallen

</textarea>
</section> -->


        <!-- <section data-markdown class="preparation">
            <textarea data-template>
### Preparation
* Start Data Server
  * cd code\server
  * yarn dev
* Start Angular Sample Apps
* For Redux    
  * cd code\ng\ng-sandbox
  * ng serve --port=4200
  * http://localhost:4200/

        </textarea>
    </section> -->
<!-- 
React, Angular (2 and up), and lately also Vue govern the realm of modern frontend frameworks. Largely independent of
which framework you choose there is a variety of architectural approaches you can use. The challenges you face in
frontend architecture are very different from backend architectures in that the control and data flow rather goes in
cycles than traversing through layers. Additionally, decoupling of parts of the application must not impact the user
experience, so that the user has the impression of one consistent and coherent system. These challenges are often
underestimated and most attention goes to the backend.


We will shed some light into the matter and cover the main architectural challenges including
* where to maintain state 
* how to decouple parts of your application 
* how to change relevant parts of the UI when state changes 
* how to structure your application when it grows  

If you are not interested in JavaScript or the browser, this session can still be interesting as all these patterns are
applicable to any other language and any other runtime environment.

40 Minuten
 -->
      <section>
        <h2>Overview of current (JavaScript) Frontend Architectures</h2>
        <div>
          <a href="TODO" target="_blank">
            TODO</a>
        </div>

        <div>
          <a href="http://zeigermann.eu">Oliver Zeigermann</a> /
          <a href="http://twitter.com/djcordhose">@DJCordhose</a> /
        </div>
        <p style="clear: both">
          <small>Slides:
            <a href="TODO">
              TODO</a>
          </small>
        </p>
      </section>

      <section data-markdown>
        <textarea data-template>
### Installating tool set

1. https://git-scm.com/downloads
1. Chrome Browser: https://www.google.com/chrome/
   * Optional: Chrome Dev Tools https://fb.me/react-devtools
   * Optional: Redux DevTools https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd
1. Visual Studio Code: https://code.visualstudio.com/
   * Optional: https://marketplace.visualstudio.com/items?itemName=msjsdiag.debugger-for-chrome
1. node.js (JavaScript outside of browser): https://nodejs.org/en/ LTS
2. yarn (dependency management): https://yarnpkg.com/en/docs/install
3. (make sure you can install via packages through a proxy): https://www.freecodecamp.org/forum/t/npm-behind-a-proxy-server/19386
1. web server: `npm install -g http-server`
</section>
</textarea>

<section data-markdown>
  <textarea data-template>
## Crash Course React

https://reactjs.org/
</section>
</textarea>

      <section data-markdown>
        <textarea data-template>
### Creating React project skeleton

_Install https://facebook.github.io/create-react-app/ using TypeScript 
https://facebook.github.io/create-react-app/docs/adding-typescript_ 

1. `npm install -g create-react-app`
1. `create-react-app react-app --typescript`
1. `cd react-app`
1. `yarn start`
1. Open http://localhost:3000/ 
1. Do what the app tells you to do
</section>
</textarea>

<section data-markdown>
  <textarea data-template>
### Inspect the created files together

</section>
</textarea>

<section data-markdown class="todo">
  <textarea data-template>
### Basics of React programming with TypeScript

</section>
</textarea>

<section data-markdown>
  <textarea data-template>
### Learning More React

1. https://reactjs.org/
1. learn by doing: https://reactjs.org/tutorial/tutorial.html
1. learn by step by step: https://reactjs.org/docs/hello-world.html
</section>
</textarea>

<section data-markdown>
  <textarea data-template>
## Crash Course Angular

https://angular.io/
</section>
</textarea>

<section data-markdown>
  <textarea data-template>
### Creating Angular project skeleton

_Using Angular CLI https://cli.angular.io/_ 

1. `npm install -g @angular/cli`
1. `ng new ng-app`
1. `cd ng-app`
1. `yarn start`
1. Open http://localhost:4200/
1. Change the app code in your IDE and see it refreshed
</section>
</textarea>

<section data-markdown>
  <textarea data-template>
### Inspect the created files together

</section>
</textarea>

<section data-markdown class="todo">
  <textarea data-template>
### Basics of Angular development

</section>
</textarea>

<section data-markdown>
  <textarea data-template>
### Learning More Angular

1. https://angular.io/
1. learn by doing: https://angular.io/tutorial
1. learn by step by step: https://angular.io/guide/architecture
</section>
</textarea>

<section data-markdown>
  <textarea data-template>
## Crash Course Web Components

https://www.webcomponents.org/
</section>
</textarea>

<section data-markdown>
  <textarea data-template>
### No installation and no tooling necessary

1. `cd webcomponent-app-pure`
1. `http-server`
1. Open http://localhost:8080/
1. Change the app code in your IDE and and refresh it in the browser

</section>
</textarea>

<section data-markdown>
  <textarea data-template>
### Learning more about Web Components

1. https://www.webcomponents.org/
1. https://developers.google.com/web/fundamentals/web-components/
1. https://developer.mozilla.org/en-US/docs/Web/Web_Components/Custom_Elements
</section>
</textarea>


<section data-markdown>
  <textarea data-template>
## Crash Course Web Components with lit element, PWA Starter Kit and TypeScript

https://lit-element.polymer-project.org/
</section>
</textarea>


<section data-markdown>
  <textarea data-template>
### Creating PWA project skeleton

_https://pwa-starter-kit.polymer-project.org/setup_

1. `git clone --depth 1 -b template-typescript --single-branch https://github.com/Polymer/pwa-starter-kit pwa-app`
1. `rm -rf .git`
1. `cd pwa-app`
1. yarn
1. yarn start
1. Open http://localhost:8081/
1. Change the app code in your IDE and and refresh it in the browser

</section>
</textarea>











      <section data-markdown class="todo">
        <textarea data-template>
### Benchmark over Frameworks

      Justin Fagnani (@justinfagnani) tweeted at 9:27 PM on Tue, Feb 05, 2019:
I'm really happy with where we've been able to keep (and improve on) lit-html performance while working around crazy bugs in browsers.

Usual caveat that all benchmarks have problems, but in js-framework-benchmark we're beating almost all "well-known" libraries. https://t.co/VIhpWJkY1s
(https://twitter.com/justinfagnani/status/1092882517709905921?s=03)
</section>
</textarea>

      <section data-markdown class="todo">
        <textarea data-template>
### From Microservice to Micro Frontend

Benefit of Microservices: <img src='img/scratch/Benefits of Micro Services.jpg'>
Benefit of Micro Frontend: <img src='img/scratch/benefits micro frontends.jpg'>

https://micro-frontends.org/
    </section>
  </textarea>

      <section data-markdown class="todo">
        <textarea data-template>
### Pros / Cons different types of integration

Link: <img src='img/scratch/Link integration.jpg'>
Browser: <img src='img/scratch/browser integration.jpg'>
* Hashes combined for all subcomponents?
Build: <img src='img/scratch/build time integration.jpg'>

    </section>
  </textarea>


      <section data-markdown class="todo">
        <textarea data-template>
### Web Components Live
      https://wiredjs.com/
      https://roughjs.com/
    </section>
  </textarea>

      <section data-markdown class="todo">
        <textarea data-template>
### Web Components Theeming
      https://meowni.ca/posts/part-theme-explainer/
    </section>
  </textarea>

      <section data-markdown class="todo">
        <textarea data-template>
### Web Components 101
      https://www.telerik.com/blogs/web-components-101-an-introduction-to-web-components
    </section>
  </textarea>

  <section data-markdown>
    <textarea data-template>
### Web Components Compatibility

<img src='img/web-components-support.jpg'>

<small>
https://www.webcomponents.org/
<br>
https://caniuse.com/#search=Web%20components
</small>
</section>
</textarea>

      <section data-markdown class="todo">
        <textarea data-template>
### Frameworks with Custom elements

https://custom-elements-everywhere.com/      
    </textarea>
  </section>

  <section data-markdown class="todo">
    <textarea data-template>

Custom Elements with Angular, angular elements

https://github.com/manfredsteyer/ngx-build-plus#advanced-example-externals-and-angular-elements

https://github.com/manfredsteyer/ngx-build-plus
</textarea>
</section>

<section data-markdown class="todo">
        <textarea data-template>
### lit-html, lit-element 

* change detection using comments: https://github.com/Polymer/lit-html/issues/748

</textarea>
      </section>

      <section data-markdown class="todo">
        <textarea data-template>
### Mono Repo

* https://lernajs.io/
* https://blog.logrocket.com/setting-up-a-monorepo-with-lerna-for-a-typescript-project-b6a81fe8e4f8
* https://yarnpkg.com/lang/en/docs/workspaces/
* https://medium.com/@jsilvax/a-workflow-guide-for-lerna-with-yarn-workspaces-60f97481149d
* https://github.com/material-components/material-components-web-components


* lib
* app
  * same project
  * git submodule
  * yarn link: https://yarnpkg.com/lang/en/docs/cli/link/
* does not work: import module from dev location
  * module identified by path, double inits

</textarea>
      </section>

      <section data-markdown class="todo">
        <textarea data-template>
### Web Components 

Daniel: 
* fr√ºher= browser lief vorweg, dann frameworks hinterher
* heute umgekehrt

Wieso gut?
* access all browser dom api easily

* Proposals: https://scotch.io/bar-talk/an-overview-of-the-most-exciting-proposals-for-the-web-platform-related-to-web-components/amp
* Template instantiation: 
  * https://scotch.io/bar-talk/an-overview-of-the-most-exciting-proposals-for-the-web-platform-related-to-web-components/amp#toc-template-instantiation-with-substituted-values
  * https://github.com/w3c/webcomponents/blob/gh-pages/proposals/Template-Instantiation.md

* Constructable Stylesheet Objects
  * https://wicg.github.io/construct-stylesheets/
  * https://github.com/WICG/construct-stylesheets/blob/gh-pages/explainer.md

</textarea>
      </section>

      <section data-markdown class="todo">
        <textarea data-template>
### Monoliths are not bad all by themselves

<img src='img/monolith-good2.jpg'>

<small>
https://twitter.com/ALRubinger/status/1087752185738338306
</small>
</textarea>
      </section>

      <section data-markdown class="todo">
        <textarea data-template>
### Monoliths are good

<img src='img/monolith-good.jpg'>

<small>
https://twitter.com/sophiebits/status/1088878468236926976
</small>
</textarea>
      </section>

      <section data-markdown class="todo">
        <textarea data-template>
### Workshop
1/2 Tag

Arbeitstitel: "Ans√§tze in Frontend-Architektur beleuchtet"

Die Zeit des Wildwuchses in Sachen Web-Applikationen neigt sich dem Ende entgegen. 
Etablierte Frameworks und L√∂sungsans√§tze stehen zur Verf√ºgung. 
Trotzdem w√§hlen erfolgreiche Vorhaben Ans√§tze fr√ºherer Epochen.
Und selbst SPA-Verfechtern bleibt noch reichlich Spielraum f√ºr Entscheidungen. 
  
In diesem Workshop diskutieren wir zentrale Fragestellungen. 
Wir zeigen g√§ngige Antworten inkl. deren Vor- und Nachteilen
Und wir illustrieren die Optionen mit lauff√§higen Beispielen und konkreter Technologieauswahl.  

Ihr gewinnt mehr Sicherheit im Frontend-Thema f√ºr Eure neuen Vorhaben und erhaltet Gelegenheit, 
vorhandene L√∂sungsans√§tze gegen Best Practices abzuklopfen.  

TODO:
	* 
Mehr technologische Expertise ausstrahlen
	* 
Konkrete Fragestellungen nennen?




Teilnehmer
	* 
Leute, die Webanwendungen bauen, und sich fragen, wie sie das angehen
	* 
Erfahrungen mit klassischen Web-Applikationen (Java/JSF, ASP.Net, ...), ggf. erste Gehversuche mit SPAs
	* 
orientierungslos bzgl. Details (z.B. Auswahl Frameworks und Bibliotheken, √ºbergreifende Aspekte wie Kommunikation und Sicherheit ...)



Ziele der Teilnehmer
	* 
a) Sicherheit f√ºr ein neues Vorhaben gewinnen (im Extremfall: Weichenstellung f√ºr "alle" zuk√ºnftigen Anwendungen)
	* 
b) Vorhandene Ideen gegen "Best Practices" abklopfen (Machen wir das Richtige?)



Lernziel
	* 
Unterschiedliche Ans√§tze der Frontend-Architektur kennen lernen
	* 
SPA-Architektur f√ºr skalierbare Projekte
	* 
Kompromisse 



Agenda
	1. 
Warum ist Frontend UX schwierig: Autonomy in der Entwicklung vs Integration f√ºr gutes UX
	2. 
Was sind die Epochen der Frontend-Architektur (Klassisch bis SPA)

		1. 
√úbung wo findet was statt? Interaktives Element (digitales oder analoges Puzzle)
		2. 
Optionen f√ºr SPA
	3. 
Wie rei√üe f√ºr Autonomie auseinander und wie schaffe ich wieder die Integration
	4. 
Wohin geht es f√ºr die Teilnehmer

		1. 
Abklopfen der bestehenden Ans√§tze
		2. 
Weichenstellung f√ºr anstehende Projekte
		3. 
Kr√∂ten-√úbung

<img src='img/scratch/entscheidungsbaum.png'>
<img src='img/scratch/monolith.png'>
<img src='img/scratch/kr√∂ten.png'>

          </textarea>
      </section>

      <section data-markdown class="todo">
        <textarea data-template>
### Intro-Folie Migration

https://de.wikipedia.org/wiki/Kathedrale_von_Beauvais          

Bild der halb umgebauten Kathedrale

https://de.wikipedia.org/wiki/Datei:Cath%C3%A9drale_Saint-Pierre_de_Beauvais1.JPG

Kudos to StefanZ

      </textarea>
      </section>
      <section data-markdown>
          <textarea data-template>
  <img src='img/twitter_arch_needs_impl.jpg' height="600px">
  
  <small>
  https://twitter.com/DJCordhose/status/1083432218352062464  
  </small>
  </textarea>
        </section>
  
        <section data-markdown>
        <textarea data-template>
### The ultimate goal of software architecture is, well, software

<img src='img/twitter_implementation_is_king.jpg'>

<small>
https://twitter.com/DJCordhose/status/1084456405438996480  
</small>
</textarea>
      </section>

      <section data-markdown class="todo">
        <textarea data-template>
### The danger of choosing tools
<img src='img/scratch/worum-geht-es-bei-auswahl-tools.jpg' height="400px">

</textarea>
      </section>

      <section data-markdown class="todo">
        <textarea data-template>
### An Overview of the Most Exciting Proposals for the Web Platform Related to Web Components

https://scotch.io/bar-talk/an-overview-of-the-most-exciting-proposals-for-the-web-platform-related-to-web-components/amp
</textarea>
      </section>

      <section data-markdown class="todo">
        <textarea data-template>
### Shadow DOM might be be trouble - Do we need it at all?
<img src='img/scratch/Screenshot_20190113-105239.jpg' height="400px">

</textarea>
      </section>

      <section data-markdown class="todo">
        <textarea data-template>
### Style as a concept is global - but Shadom DOM makes everything local

Passing layout properties over many layers using shadow DOM seems unfeasable
<img src='img/scratch/Screenshot_20190116-125703.jpg' height="400px">

</textarea>
      </section>


      <section data-markdown class="todo">
        <textarea data-template>
### The curse of having the choice

* Framework vs Starter Kit (Best Practices)
* No choices vs Choices that you can break away from

<img src='img/scratch/Screenshot_20190113-131017.jpg' height="400px">

</textarea>
      </section>

      <section data-markdown class="todo">
        <textarea data-template>
### Dividing frontend from backend is an antipattern
    
JavaScript has absolutely exploded in the past few years. Nowadays  significant chunks of functionality are moving from the backend to the frontend.


      https://twitter.com/jbandi/status/1081876386674020353
</textarea>
      </section>

      <section data-markdown class="todo">
        <textarea data-template>
## Variante
### WebComponents? Die sind doch tot, oder?

https://www.md-devdays.de/Act?id=1000079

* speziell auf Web Components
* Live Coding anhand von fs forms

### Where do they make sense?
Share components between different tech stacks
1. Lib
2. Interface Components between teams

### Probleme CSS
* https://github.com/w3c/webcomponents/issues/759
* Neuer Ansatz: https://wicg.github.io/construct-stylesheets/
* Angst: https://meowni.ca/posts/part-theme-explainer/

### Two interesting parts 
* Custom Components
* Shadow Dom

### Use Cases

* Fine Grained Components: App Development using (w/ or w/o shadow dom)
* Coarse Grained Components: Client side integration (using shadow dom)
  * You can choose between something not quite mature Web Components and something horrible iFrames

</textarea>
</section>

            <section data-markdown class="todo" style="font-size: xx-large">
        <textarea data-template>
### Micro Frontends Teil einbauen f√ºr 60 Minuten Version

Er√∂ffnung

Nils: das problem ist finde ich, man hat zwei extreme:
1. es soll einheitlich aussehen unter allen umst√§nden
2. es ist komplett wurscht wie's aussieht
Auf die beiden Positionen kann man sich leicht committen team-√ºbergreifend

aber auf den 2. punkt committed sich nat√ºrlich keiner
weil "ganz egal" ist es eben doch nicht

auf den ersten auch nicht: "unter allen Umst√§nden" kann echt viel hei√üen
auch: es wird nie fertig

und dann wirds schwer: wieviel abweichung von "einheitlichkeit" ist noch erlaubt.
            </textarea>
      </section>

      <section data-markdown class="todo">
        <textarea data-template>
### Overview Sketch

* Welche M√∂glichkeiten gibt es noch? Auch Vaadin-Ansatz beleuchten


<img src='img/overview-sketch.jpg'>

        </textarea>
      </section>

      <section data-markdown class="todo">
          <textarea data-template>
### Idee f√ºr √úbung  

Drag und Drop √úbung wo kommt was hin

Rendering
UI Logic
Business Logic

Wie wird kommuniziert zwischen Client und Server?
</textarea>
</section>



      <section data-markdown>
          <textarea data-template>
### JavaScript Architecture?

<div class="fragment">
Let my son quickly come up with one
<img src='img/chs_generic_architecture.jpg' height="500px">
<br>
<small>(c) Anton Schmidt</small>

</div>  

              </textarea>
        </section>


      <section data-markdown>
        <textarea data-template>
### OH frontend architecture

* frontend architecture: does this even exist?
* frontend: we just wing it at the end!
* why architecture for a little bit of CSS?
<!-- * our full stack developers handle backend and frontend architecture -->

            </textarea>
      </section>


      <section data-markdown>
        <textarea data-template>
### Things Grow - Why you might need frontend architecture

<img src='img/js-pupper-project.png'>

<small>
https://twitter.com/_developit/status/1077390391530405888
</small>
            </textarea>
      </section>

      <section data-markdown>
        <textarea data-template>
### The Two Computer Sciences

<img src='img/bret-victor-two-cs.jpg'>

<small>
https://twitter.com/worrydream/status/1071191862462038016
</small>
            </textarea>
      </section>

      <section data-markdown>
        <textarea data-template>
### UX vs the World

<img src='img/ux-vs-constraints.jpg'>

<small>
https://twitter.com/uxresearch/status/1079148047257395200
</small>
            </textarea>
      </section>


      <!-- <section data-markdown>
          <textarea data-template>

<img src='img/js-arch.png' height="600px">
  

<small>https://twitter.com/mr_mig_by/status/1060267034422976513</small>
              </textarea>
        </section>
  
            <section>
            <img src="img/frontend-architecture.png" height="600px">

            <p><small><a href="https://twitter.com/markdalgleish/status/908146609942257664" target="_blank">
                https://twitter.com/markdalgleish/status/908146609942257664
            </a></small></p>
        </section> -->


    <section>
      <img src="img/frontend-katz-twitter.png" height="600px">

      <p><small><a href="https://twitter.com/wycats" target="_blank">
          @wycats
      </a>: <a href="https://twitter.com/wycats/status/930463710941872128" target="_blank">
          https://twitter.com/wycats/status/930463710941872128
      </a></small></p>
  </section>


      <section>
          <h2>Classic Web Applications</h2>
          <img src="img/webapp_arch01_classic.png" style="max-width: 40%; float: left">
          <ul style="max-width: 50%; float: right">
              <li class="fragment"  >Browser sends HTTP Request
            <li class="fragment"  >Content is <span class="highlight">rendered on the Server</span>
              <li class="fragment"  >HTML is sent back to the Browser
            <li class="fragment"  ><span class="highlight">Browser only shows the page</span> to the user
              <li class="fragment"  >Each interaction repeats this round-trip
            <li class="fragment">Frequent page load means severe limitation to UX
                    </ul>
      </section>

      <section>
        <h2>jquery / AJAX</h2>
        <p>Add some adhoc JavaScript snippet when UI needs to be responsive</p>
        <img src="img/webapp_arch_02_jquery.png" style="max-width: 40%; float: left">
        <ul style="width: 50%; float: right; font-size: 80%">
            <li class="fragment">some renedering in the Browser, some on the server
            <li class="fragment">architecturally a PITA
            <li class="fragment">starts as a solution nice, quick and easy to implement 
            <li class="fragment">sooner or later results in unmaintainable code
        </ul>
    </section>

    <section>
        <h2>SPA: Single Page Application</h2>
        <p>Move your Application to the Client</p>
        <img src="img/webapp_arch_03_spa.png" style="max-width: 40%; float: left">
        <ul style="width: 50%; float: right; font-size: 80%">
            <li class="fragment">only one (single) HTML page that mainly loads JavaScript and CSS</li>
            <li class="fragment">Server has Data-API (JSON/REST API)</li>
            <li class="fragment">Server can still hold Business Logic (or it is on the client only)
            <li class="fragment">allows for Offline and best UX
            <li class="fragment">same challenges as all rich frontend applications
                  </ul>
    </section>

    <section>
      <h3 style="line-height: 1em">Single-Page Applications</h3>
      <h2>Components with Templates</h2>
      <p style="color: #2aa198">A SPA is composed of (business) components:</p>
      <ul>
          <li>Templates describe the UI of the component
          <li>But now:
            <ul>
              <li>Logic is part of the component</li>
              <li>Logic is a "first-class" citizen and no longer a "loose" snippet (like in jQuery)
              <li><span class="highlight" >Logic is fully executed on the client</span></li>
            </ul>
            <li>Prominent Frameworks: React, Angular, Vue, and Web Components (Polymer)</li>
      </ul>
  </section>

  <section data-markdown>
    <textarea data-template>
### Why a Framework?

* Binding to model
* Templates
* Declarative vs Imperative
* Re-Rendering on model change
* Why not just PubSub (The classic for listening to changes)
  * Hard to understand flow
  * We tend to forget to de-register 
    
            </textarea>
          </section>

      <section data-markdown>
          <textarea data-template>
### Which Framework?

* Might be off-topic but people will keep asking me anyway :D
* Technically it does not matter much
* There is no single right answer
            </textarea>
          </section>

    <section data-markdown>
        <textarea data-template>
### Annual Survey among JS Developers

<img src='img/js-frameworks-2018.png' height="500px">

https://2018.stateofjs.com/front-end-frameworks/conclusion  

        </textarea>
    </section>

    <section data-markdown>
      <textarea data-template>
### Questions on Framework on Stack Overflow

<img src='img/frameworks-stack-overflow.png' height="500px">

<small>
  https://insights.stackoverflow.com/trends?tags=angular%2Cangularjs%2Creactjs%2Cjquery%2Cvue.js%2Cvuejs2%2Cpolymer
</small>
</textarea>
</section>

<section data-markdown>
  <textarea data-template>
### Tech likes React, Insurances likes Angular

<img src='img/tag_by_industry_graph-1-768x768.png' height="500px">

<small>
  https://stackoverflow.blog/2018/01/11/brutal-lifecycle-javascript-frameworks/
</small>
</textarea>
</section>

<section data-markdown>
        <textarea data-template>
### Why React?
<img src='img/twitter-nils-react.png' height="500px">

<small>
https://twitter.com/nilshartmann/status/1055769094660722688
</small>
          </textarea>
        </section>

      <section data-markdown>
        <textarea data-template>
### Why Angular

* choose Angular when you want a complete framework
* and like other (hopefully smarter) people to make the right choices for you 
* you like classes (while React people like functions)
          </textarea>
        </section>

      <section data-markdown>
        <textarea data-template>
### Why Vue.js

* took over template syntax and quite some audience from Angular.js 1
* easy to master
* templates doable by frontend (HTML/CSS) people
          </textarea>
        </section>

  <section data-markdown>
      <textarea data-template>
### Why WebComponents Polymer LitElement and lit-html

  
* Solves these issues within the JS world using mostly standards
* Class based
* Flexible in programming style
* Not implmented in Edge, yet, but in development
* polymer lit lib not 1.0, yet
* polymer lit libs quite small
* just another framework?

https://lit-element.polymer-project.org/
<br>
https://lit-html.polymer-project.org/

</textarea>
  </section>
  
          <section data-markdown>
    <textarea data-template>
### React, Angular, WebComponents/LitElement, and Vue solve all of these

* Binding to model
  * One-Way-Binding
* Templates
  * JSX, HTML with directives, HTML 
* Re-Rendering
  * Virtual DOM or Zones checking Model updates

  </textarea>
</section>

<section data-markdown>
  <textarea data-template>
### TypeScript for business applications

_All frameworks work well with TypeScript_

<img src='img/typescript.jpg' height="400px">

<small>
https://www.typescriptlang.org/
<br>
Vue 3.0 based on TypeScript https://twitter.com/newsyc250/status/1063900647853121536
<br>
Vue Roadmap: https://github.com/vuejs/vue/projects/6#column-4065494
</small>

</textarea>
</section>


<section class="step-subtitle">
    <h3>Composing an Application from Components</h3>
    <h1>Smart and Dumb Components<span style="color:#D3337B">*</span></h1>
    <h3 style='color:#586e75;font-family: "Amiri", serif;letter-spacing:-2px;text-decoration:none;font-weight:bold'><span style="color:#D3337B">*</span>also known as <em style='font-family: "League Gothic", Impact, sans-serif;letter-spacing:1px;font-style:normal;text-transform:uppercase'>Mediator Pattern</em> with Web Components / Polymer</h3>
</section>

<section>
  <h3><span class="highlight">Smart</span> Components </h3>
    <ul>
      <li>Managing (part of) the application <span class="highlight">state</span>
      <li>Contain UI <span class="highlight">logic</span></li>
        <li>Pass parts of the state as immutable data to subcomponents</li>
        <li>Pass callbacks to subcomponents for interaction</li>
        <li>Mostly domain-specific, not intended to be reusable
    </ul>
    <p><em>Aka Container</em></p>
</section>

<section>
    <h3><span class="highlight">Dumb</span> Components</h3>
    <ul>
      <li>only for <span class="highlight">presentation</span>, no logic
      <ul>
        <li>but might contain own ("transient") state
        </li>
      </ul>
      <li>have <span class="highlight">no knowledge or dependencies</span> to their surrounding components
        <li>children of Dumb Components are usually other Dumb Components
        (but there are
            <a target="_blank" href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0#.z8xy5zvhs">
              exceptions</a>)
        <li>reusable
    </ul>
    <p><em>Aka Presentational Component or just Component</em></p>
</section>

<section>
    <img src="img/smart-dumb-properties.png">
</section>


<section data-markdown>
  <textarea data-template>
<img src='img/jan_de_v_design.jpg' height="600px">

<small>
<a href='https://twitter.com/Jan_de_V'>@Jan_de_V</a> <a href='https://twitter.com/TopconfEE'>@TopconfEE</a> 
</small>

</textarea>
</section>


    <section>
        <h2>Smart Component</h2>
        <pre><code data-trim contenteditable class="javascript">
@Component({
template: `&lt;sub [greeting]={{greeting}} (onSend)="sent($event)"></sub>`
})
export class AppComponent {
  // component state
  private greeting: string = 'Hiho';

  // dependency injection
  constructor(private greetingService: GreetingService) {
  }

  // "Business Logic" delegated to service
  sent(greeting) {
    this.greeting = this.greetingService.greetBack(greeting);
  }
}
        </code></pre>
      <p><a target="_blank" href="https://angular.io/tutorial/toh-pt4">
          https://angular.io/tutorial/toh-pt4</p>
      </a></p>
    </section>

    <section>
        <h2>Dumb Component</h2>
        <pre><code data-trim contenteditable class="javascript">
@Component({
selector: 'sub',
template: `
<input [(ngModel)]="greeting">
<p>{{greeting}}, World</p>
<button (click)="send()">Send</button>
`,
})
export class SubComponent {
  @Input() greeting: string;

  // rxjs observer
  @Output() onSend = new EventEmitter();

  // no business logic, just event emitting
  send() {
    this.onSend.emit(this.greeting);
  }
}
        </code></pre>
    </section>

    <section>
        <h3>Example</h3>
        <img src="exercise/detail.png">

        <p><small>What would be candidates for Smart-/Dumb-Components?</small></p>
    </section>

    <section>
        <h3>Dumb</h3>
        <img src="exercise/detail-dumb.jpg">
    </section>

    <section>
        <h3>Smart</h3>
        <img src="exercise/detail-smart.jpg">
    </section>


    <section class="next-step">
        <h3>Smart and Dumb Components</h3>
          <h2>Limitations</h2>
          <p style="color: #2aa198">Mainly with growing and long-living applications</p>
          <ul>
            <li class="fragment" style="font-size: 80%">"God-like" components: State and logic tend to slowly move up to a few really fat components
            <li class="fragment" style="font-size: 80%">Distributed, mutatable state makes maintainability and understanding hard
              <ul>
                <li>Where does the state belong to?</li>
                <li>In which state is the application?
              </ul>
            </li>
            <li class="fragment" style="font-size: 80%">Mash up of framework and UI code (hardens switching the framework)
              <li class="fragment" style="font-size: 80%">Still open questions regarding the architecture
                  <ul>
                      <li>How to handle asynchronous code?
                      <li>How to do proper initialization of the application?
                      <li>How to test the business logic?
                  </ul>
              </li>
          </ul>
      </section>

      <section data-markdown>
          <textarea data-template>
  ### Data Layer ‚Äì transmit and manage data
  
  <img src='img/js-data-layer-2018.png' height="500px">
  
  https://2018.stateofjs.com/data-layer/conclusion/
  
          </textarea>
      </section>
  
      <section>
          <h1>Redux</h1>
          <ul>
            <li><span class="highlight">Central</span> state management: one store for whole app, like a database</li>
            <li><span class="highlight">External</span> state management: extract logic from the (UI-)components</li>
          </ul>
          <em>It's not only a framework, it's also a pattern (like MVC)</em>
      </section>

      <section>
        <h2>Redux</h2>
        <h3>Architectural guidance</h3>
        <ul>
                <li>Uni-directional data flow
                <li>Central and immutable state: store
                        <li>Only reducers are allowed to modify state
                                <li>State moves from Smart Components to store
                <li>UI logic moves from Smart Components in Action-Creators / Services and Reducer
                <li>Asynchronous code only in Action-Creators / Services or Effects
                <li>Initializing of the app with central action
        </ul>
    </section>

      <section>
          <h2>Redux is independent of UI framework</h2>
          <p style="color: #2aa198">Bindings exist for popular UI frameworks</p>
          <ul style="font-size: 80%">
              <li>React: <a href="http://redux.js.org/docs/basics/UsageWithReact.html" target="_blank">
                  http://redux.js.org/docs/basics/UsageWithReact.html
              </a>
              <li>Angular: <a href="https://github.com/ngrx/platform" target="_blank">https://github.com/ngrx/platform</a></li>
              <li>Vue: <a href="https://github.com/vuejs/vuex" target="_blank">https://github.com/vuejs/vuex</a>
              <li>Web Components (Polymer): Redux is recommended implementation of <em>Global Mediator Pattern</em>,
                  <a href="https://twitter.com/DJCordhose/status/899943415353311232" target="_blank">https://twitter.com/DJCordhose/status/899943415353311232</a>
                  <a href="https://tur-nr.github.io/polymer-redux/" target="_blank">https://tur-nr.github.io/polymer-redux/</a>
          </ul>

      </section>

      <section>
          <h3>Redux extracts responsibility out of Components</h3>
          <img src="img/redux-02-extracting-responsibility.png" style="max-height: 500px; border:0;box-shadow:0 0 0 0"/>
      </section>

      <section>
          <h3>Redux Pattern, Resulting Architecture</h3>
          <img src="img/redux-03-resulting-redux-architecture.png" style="max-height: 500px; border:0;box-shadow:0 0 0 0"/>
      </section>


      <!-- <section>
          <h2>Different Types of State</h2>
          <img src="img/three-kinds-of-state.png">
      </section>
      
      <section data-markdown>
          <textarea data-template>
### Demo
* Redux Tools
* Backend Calls
* Routing
  * http://localhost:4200/root
  * http://localhost:4200/counter
* Extract Parameters from URL: http://localhost:4200/counter/100  

http://localhost:4200/
            </textarea>
          </section> -->
    

   <section>
<h3>Reducer</h3>
<pre><code data-trim contenteditable class="javascript">
export function counterReducer(state: number = 0, action: Action) {
  switch (action.type) {
    case INCREMENT:
      return state + 1;

    case DECREMENT:
      return state - 1;

    case RESET:
      return 0;

    default:
      return state;
  }
}
</code></pre>
<pre><code data-trim contenteditable class="javascript">
import { NgModule } from '@angular/core';
import { StoreModule } from '@ngrx/store';
import { counterReducer } from './counter';

@NgModule({
  imports: [StoreModule.forRoot({ count: counterReducer })],
})
export class AppModule {}    
</code></pre>
</section>

   <section>
<h3>Connection to Store</h3>
<pre><code data-trim contenteditable class="javascript">

interface AppState {
  count: number;
}

@Component({
  template: `<div>Current Count: {{ count$ | async }}</div>`
})
export class CounterComponent {

  count$: Observable&lt;number>;

  constructor(private store: Store&lt;AppState>) {
    this.count$ = store.pipe(select('count'));
  }

  reset() {
    this.store.dispatch({ type: RESET });
  }

}
</code></pre>
</section>


      <section>
          <h3>Is anyone really using this?</h3>
          <div class="fragment">
              <a href="https://www.xing.com/messenger" target="_blank">
              <img src="xing-messenger-redux.png" height="550px">
              </a>
              <small>Microsoft Outlook, Twitter, Apple, XING and many others use React and Redux</small>
          </div>
      </section>

    <section data-markdown>
  <textarea data-template>
### But don't overdo it

_Spreading out your application into too many tiny fragments can make it hard to read and maintain_

<img src='ngrx-overdone.jpg' height="450px">
<small>
https://twitter.com/jbandi/status/1023954402116358145
</small>
    </textarea>
  </section>

        <!-- <section>
						<h3>Wrap Up Redux</h3>
						<p  style="color: #2aa198">A UI pattern for User Interfaces</span>
            <ul class="fragment" style="font-size:80%">
                <li>Mainstream solution
                <li>Independent of framework
                <li>Easy testing of business logic as logic is implemented only in pure functions ("Reducer")
                <li>Great debugging because of dev tools
                <li>Works great in large applications with many dependencies between parts / components
              </ul>

        </section> -->

        <section>
						<h3>Wrap Up</h3>
						<p  style="color: #2aa198">Overview of current (JavaScript) Frontend Architectures</span>
            <ul>
                <li class="fragment">SPAs are just like any rich frontend application
                <li class="fragment">Which framework you use does not matter too much
                <li class="fragment">All make you compose your application from components
                <li class="fragment">Composing your Application into Smart and Dumb Components
                <li class="fragment">Redux as Data Layer
                  <ul>
                      <li>for large applications with many dependencies between parts / components
                      <li>provides architectural guidance where which part of the application goes
                  </ul>
                </li>
              </ul>
            <p>
                <small>
            <a href="http://zeigermann.eu">Oliver Zeigermann</a> / <a href="http://twitter.com/djcordhose">@DJCordhose</a>
                <br>
        <a href="http://bit.ly/topconf-js">
            http://bit.ly/topconf-js</a>
        </small>
            </p>
        </section>
    </div>

  </div>

  <script src="reveal.js/lib/js/head.min.js "></script>
  <script src="reveal.js/js/reveal.js "></script>
  <script src="lib/jquery-2.2.4.js "></script>
  <script>
    // $('.weg').remove();
    // uncomment for jax
    $('.jax').remove();
    if (window.location.hostname.indexOf('localhost') !== -1) {
    } else {
      // only applies to public version
      $('.preparation').remove();
      $('.todo').remove();
      $('.local').remove();
      $('.presenter').remove();

    }
    Reveal.addEventListener('ready', function (event) {
        // do we want this???
        $('li').addClass('fragment')

        // make all links open in new tab
        $('a').attr('target', '_blank')

      if (window.location.hostname.indexOf('localhost') !== -1) {
        // only applies to presentation version
        Reveal.configure({ controls: false });
      } else {
        // only applies to public version
        $('.fragment').removeClass('fragment');
      }
      // applies to all versions
      $('code').addClass('line-numbers');
    });
    // $('section').attr('data-background-image', "backgrounds/light-metal.jpg ");
    // $('section').attr('data-background-image', "backgrounds/pink.jpg ");
    // $('section').attr('data-background-image', "backgrounds/white.jpg ");
//    $('section').attr('data-background-image', "backgrounds/code.jpg ");
$('section').attr('data-background-image', "backgrounds/sky.jpg");

  </script>

  <script>

    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
      controls: true,
      progress: true,
      history: true,
      center: true,
      width: 1100,

      transition: 'slide', // none/fade/slide/convex/concave/zoom

      // Optional reveal.js plugins
      dependencies: [
        {
          src: 'reveal.js/lib/js/classList.js', condition: function () {
            return !document.body.classList;
          }
        },
        {
          src: 'reveal.js/plugin/markdown/marked.js', condition: function () {
            return !!document.querySelector('[data-markdown]');
          }
        },
        {
          src: 'reveal.js/plugin/markdown/markdown.js', condition: function () {
            return !!document.querySelector('[data-markdown]');
          }
        },
        {
          src: 'reveal.js/plugin/highlight/highlight.js', async: true, condition: function () {
            return !!document.querySelector('pre code');
          }, callback: function () {
            hljs.initHighlightingOnLoad();
          }
        },
        { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true },
        { src: 'reveal.js/plugin/notes/notes.js', async: true },
        { src: 'lib/js/line-numbers.js' }
      ]
    });

  </script>

</body>

</html>